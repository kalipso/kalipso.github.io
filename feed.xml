<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>낭만디비술사</title>
  
  
  <link href="/feed.xml" rel="self"/>
  
  <link href="https://kalipso.github.io/"/>
  <updated>2017-11-18T15:25:42.329Z</updated>
  <id>https://kalipso.github.io/</id>
  
  <author>
    <name>kalipso</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>［태교일기］ 임신 16주 3일</title>
    <link href="https://kalipso.github.io/2017/11/19/papa-diary-pregnant-16w/"/>
    <id>https://kalipso.github.io/2017/11/19/papa-diary-pregnant-16w/</id>
    <published>2017-11-18T15:23:19.000Z</published>
    <updated>2017-11-18T15:25:42.329Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Related-Posts"><a href="#Related-Posts" class="headerlink" title="Related Posts"></a>Related Posts</h3><h2 id="2017-11-18-토"><a href="#2017-11-18-토" class="headerlink" title="2017.11.18(토)"></a>2017.11.18(토)</h2><p>주말 아침, 우리 부부는 아침을 일찍 챙겨먹고 9시가 되기 전에 산부인과에 도착해서 1번 대기표를 끊었다. 원래 예약일은 21일 화요일이었지만 나도 초음파를 통해서나마 우리 똥글이를 직접 보고 싶었다. </p><p>얼마나 긴 시간이었던가. 9월 초중순 원인 모를 하혈이 있을 때만 해도 아내에게 내색할 수는 없었지만 나도 적잖이 걱정하고 긴장 했더랬다. 하루하루가 어찌나 긴지, 다음 검사까지의 시간이 영원처럼 느껴졌다. 우리 주변의 시간만이 아주 길게 왜곡되어 있는 것 같은. 그래서 시간의 늪에 빠져있는 느낌이랄까. 불안감에 한약도 지어먹고, 조심스런 하루하루를 건너왔다. 기형아 검사도 마치고 나니 한결 마음이 편해지고는 있지만. 여전히 우리의 하루하루는 참 길다. 그런 긴 시간을 건너고 있는데, 똥글이를 보기 위해 한두시간 기다리는게 무슨 대수란 말인가.</p><p>예약을 하고 온 산모와 신랑들 구경도 하고, 같이 책도 보면서(나는 선물 받은 《기사단장 죽이기》를, 아내는 내가 <del>강권한</del> 권한 《내 아이를 위한 두뇌코칭》을 보고 있다) 시간을 보내다가, 병원에 운영하고 있는 산후조리원 투어를 하고 와서야 진료를 볼 수 있었다. </p><h4 id="똥글이는-남자-여자"><a href="#똥글이는-남자-여자" class="headerlink" title="똥글이는 남자? 여자?"></a>똥글이는 남자? 여자?</h4><p>아내가 진료실에 먼저 들어가고, 곧 이어서 간호사가 “산모님 보호자분~”을 불렀다. 초음파로 이제는 제법 사람의 형태를 갖춰가고 있는  똥글이를 보면서 상태를 체크했다.</p><p><img src="https://farm5.staticflickr.com/4541/38466052422_fc4978402c.jpg" alt="똥글이 16주 3일"> </p><p>“자궁 경부 길이도.. 정상이고요.. 머리 지름은 보시는 것처럼 3.32cm… 몸통은 … 양수 길이도 정상이네요.”.. “심장도 157.89.. 규칙적으로 잘 뛰고 있어요 “</p><p>하나같이 다 반가운 말들이었다. 지난달에 봤을 때는 다리가 짤막했는데, 다리가 길쭉해지고 콧대도 더 또렷해진 것 같다. </p><p>그러다가 선생님이 갑자기 얘기해준다. “똥글이는 아들인 것 같네요~”</p><p>“아.. 그걸 어떻게 알죠? 탯줄이랑 헷갈릴 수도 있고..”라면서 아직 확실히는 모르는 것 아니냐는 투로 얘기를 했더니 선생님이 똥글이의 다소 민망한 자세를 보여주셨다. (똥글아. 아빠가 미안하다)</p><p><img src="https://farm5.staticflickr.com/4538/38442609056_3c77540955.jpg" alt="똥글이의 굴욕"></p><p>“자 여기 로켓처럼 솟아오른 것 보이시죠?”</p><p>“아…” </p><p>우리 부부는 가만히 고개를 끄덕였다. 이렇게 똥글이는 남아로 판명되었다.</p><h4 id="4개월-임산부의-변화"><a href="#4개월-임산부의-변화" class="headerlink" title="[4개월] 임산부의 변화"></a>[4개월] 임산부의 변화</h4><ul><li>입덧 : 어떤 책에서는 4개월~6개월이 가장 편안한 때라고도 하는데, 아내는 아직 입덧을 하고 있다. 3개월 즈음에 거의 매일 토하고 밥을 거의 못 먹었는데, 4개월에 접어들면서 약간은 편안해지고 있다. </li><li>체중 : 3개월까지 5~7kg 정도가 빠졌는데,  4개월에 접어들면서 완만한 회복세를 보이고 있다. 한 3kg 정도는 회복한 듯. </li></ul><h4 id="4개월-태아의-변화"><a href="#4개월-태아의-변화" class="headerlink" title="[4개월] 태아의 변화"></a>[4개월] 태아의 변화</h4><ul><li>아이의 체중은 145g 정도로 측정되었다.  18주가 되면 무게 300g에 키도 20~25cm까지 자란다고 한다. </li><li>15주 : 다리가 팔보다 길어진다.</li><li>16주 : 주먹을 쥐고 입을 벌리거나 입술을 움직일 수 있다.  손톱이 형성된다. 심장이 117~157회 박동한다. 위장이 소화액을 만들어내고, 신장이 소변을 만들어낸다.</li><li>17 주 : 갈색 피하 지방이 생긴다. 17~20주에 청각 기관이 발달하여 내장 기관과 외부 세상의 소리를 들을 수 있다. </li><li>18주 : 귀가 머리 쪽으로 올라가고 솜털이 몸을 덮는다.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Related-Posts&quot;&gt;&lt;a href=&quot;#Related-Posts&quot; class=&quot;headerlink&quot; title=&quot;Related Posts&quot;&gt;&lt;/a&gt;Related Posts&lt;/h3&gt;&lt;h2 id=&quot;2017-11-18-토&quot;&gt;&lt;a href
      
    
    </summary>
    
      <category term="Diary" scheme="https://kalipso.github.io/categories/Diary/"/>
    
      <category term="태교일기" scheme="https://kalipso.github.io/categories/Diary/%ED%83%9C%EA%B5%90%EC%9D%BC%EA%B8%B0/"/>
    
    
      <category term="태교일기" scheme="https://kalipso.github.io/tags/%ED%83%9C%EA%B5%90%EC%9D%BC%EA%B8%B0/"/>
    
      <category term="임신 16주" scheme="https://kalipso.github.io/tags/%EC%9E%84%EC%8B%A0-16%EC%A3%BC/"/>
    
      <category term="똥글이" scheme="https://kalipso.github.io/tags/%EB%98%A5%EA%B8%80%EC%9D%B4/"/>
    
      <category term="성별구분" scheme="https://kalipso.github.io/tags/%EC%84%B1%EB%B3%84%EA%B5%AC%EB%B6%84/"/>
    
  </entry>
  
  <entry>
    <title>［Scala 기초］ Scala로 구구단 만들기</title>
    <link href="https://kalipso.github.io/2017/11/10/Scala-Gugudan-Basic-Grammar/"/>
    <id>https://kalipso.github.io/2017/11/10/Scala-Gugudan-Basic-Grammar/</id>
    <published>2017-11-10T05:18:44.000Z</published>
    <updated>2017-11-10T08:49:01.448Z</updated>
    
    <content type="html"><![CDATA[<p>프로젝트에서 사용할 수 있다는 이유 때문에 최근 Scala를 공부하고 있습니다. </p><p>지금까지 써본 개발 언어는 ASP, PHP 같은 스크립트 언어(<del>나이가 탄로나나요.. 쿨럭</del>), 비교적 최근에 썼던 언어로는 Java, Python과 Javascript 등이 있습니다만, 객체지향의 특징과 함수 지향의 특징을 가지고 있는 Scala는 또 매우 새롭더군요. </p><p>간단한 예제를 통해서 Scala의 특징을 짚어보고자 합니다. Scala를 창시한 마틴 오더스키가 직접 쓴 “Programming in Scala 3/e”로 공부하는 중인데, 아래 내용은 대략 1~7장까지의 내용을 나름대로 정리한 것으로 보면 되겠습니다</p><h3 id="구구단-프로그램"><a href="#구구단-프로그램" class="headerlink" title="구구단 프로그램"></a>구구단 프로그램</h3><p>아래는 IntelliJ의 Scala WorkSheet에서 작성해본 구구단 출력 프로그램 소스입니다.</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeRow</span></span>(dan: <span class="type">Int</span>, num: <span class="type">Int</span>) : <span class="type">String</span> = &#123;</div><div class="line">  <span class="keyword">val</span> result = <span class="string">" "</span>* (<span class="number">2</span> - (dan * num).toString.length) + (dan * num).toString</div><div class="line">  <span class="string">s"<span class="subst">$dan</span> × <span class="subst">$num</span> = <span class="subst">$result</span>"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeMultiTable</span></span>() = &#123;</div><div class="line">  <span class="keyword">val</span> rowTable = <span class="keyword">for</span> &#123;</div><div class="line">    i &lt;- <span class="number">1</span> to <span class="number">9</span></div><div class="line">    <span class="keyword">if</span> (i != <span class="number">1</span>);</div><div class="line">    j &lt;- <span class="number">1</span> to <span class="number">9</span></div><div class="line">  &#125; <span class="keyword">yield</span> &#123;</div><div class="line">    (<span class="keyword">if</span>(j == <span class="number">1</span>) <span class="string">s"\n[<span class="subst">$i</span> 단]\n"</span> <span class="keyword">else</span> <span class="string">""</span>) + makeRow(i, j)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  rowTable.mkString(<span class="string">"\n"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">println(makeMultiTable)</div></pre></td></tr></table></figure><h4 id="1-함수의-정의"><a href="#1-함수의-정의" class="headerlink" title="1. 함수의 정의"></a>1. 함수의 정의</h4><p><img src="https://farm5.staticflickr.com/4564/38297482051_b2b9c07b18_z.jpg" alt="함수의 형태"></p><ul><li>기본적인 구조는 위와 같이 구구단 소스 1 line과 같이 def + 함수명 + 파라미터 목록 + 함수 결과 타입 + 등호(=) + 중괄호({})안에 본문입니다.</li><li>Result type은 생략할 수 있으나, 함수가 재귀적으로 정의되어 있을 경우에는 반드시 명시해야 합니다. 값의 반환이 없는 함수는 Result Type이 Unit이며, 이는 Java의 void와 같습니다. </li><li>함수 본문에 return이 없는데, scala는 return을 사용하지 않아도 맨 나중에 계산한 값을 반환합니다.</li><li>scala에서 <strong>함수는 1급 계층(first class) 값</strong>입니다. 즉, 함수는 문자열과 동일한 자격을 갖는 값으로 함수를 다른 함수에 인자로 넘길 수 있고, 함수 안에서 결과로 함수를 반환할 수도 있고, 함수를 변수에 저장할 수도 있습니다. </li><li>다음과 같이 함수 리터럴을 사용하기도 합니다.</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* String 배열을 출력 */</span></div><div class="line"><span class="comment">//#1. 함수 리터럴을 사용하는 경우</span></div><div class="line">args.foreach(arg =&gt; println(arg))</div><div class="line"></div><div class="line"><span class="comment">//#2. 함수 리터럴에서 인자의 타입을 명시적으로 표현</span></div><div class="line">args.foreach((arg: <span class="type">String</span>) =&gt; println(arg))</div><div class="line"></div><div class="line"><span class="comment">//#3. 함수 리터럴이 인자를 하나만 받는 경우 해당 인자를 생략 가능</span></div><div class="line">args.foreach(println)</div></pre></td></tr></table></figure><h4 id="2-변수의-정의"><a href="#2-변수의-정의" class="headerlink" title="2. 변수의 정의"></a>2. 변수의 정의</h4><ul><li>2번째 라인 <code>val result = &quot;~&quot;</code> 구문은 변수에 값을 할당하는 부분입니다.</li><li>스칼라에는 val, var의 두 종류 변수가 있습니다. </li><li>val은 Java의 final 변수와 비슷하고 일단 초기화하고 나면 값을 다시 할당할 수 없습니다.</li><li>위와 같이 String은 + 연산자로 이어붙일 수 있습니다.</li><li>var 대신 val을 사용하는 것이 코드를 더 가독성 높고 리팩토링 하기 쉽게 해준다(by 마틴 오더스키)</li></ul><h4 id="3-문자열-인터폴레이션"><a href="#3-문자열-인터폴레이션" class="headerlink" title="3. 문자열 인터폴레이션"></a>3. 문자열 인터폴레이션</h4><ul><li><p>3번째 라인 <code>s&quot;$dan ...&quot;</code>구문은 문자열 인터폴레이션입니다.</p></li><li><p>문자열을 시작하는 따옴표 직전에 <strong>s</strong>라는 문자가 오는 경우 scala는 해당 리터럴을 처리하기 위해 <strong>s 문자열 인터폴레이션</strong>을 사용합니다.</p></li><li><p>s 인터폴레이터는 내장된 각 표현식을 평가하고, 각 결과에 대해 toString을 호출한 다음 내장된 표현식을 toString의 결과로 대치해줍니다.</p></li><li><p><code>${6 * 7}</code>과 같이 <code>$</code> 뒤에 원하는 표현식을 사용할 수 있습니다.</p></li><li><p>scala는 s 인터폴레이터 외에 raw 인터폴레이터, f 인터폴레이터를 제공합니다.</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">println(<span class="string">raw"No\\\\escape"</span>)</div><div class="line"><span class="comment">//--&gt; 출력 : No\\\\escape!</span></div><div class="line"></div><div class="line"><span class="keyword">val</span> pi = <span class="string">"Pi"</span></div><div class="line">println(<span class="string">f"<span class="subst">$pi</span> is approximately <span class="subst">$&#123;math.Pi&#125;</span>%.8f"</span>)</div><div class="line"><span class="comment">//--&gt; 출력 : Pi is approximately 3.14159265.</span></div></pre></td></tr></table></figure><p>​</p></li></ul><h4 id="4-if-구문"><a href="#4-if-구문" class="headerlink" title="4. if 구문"></a>4. if 구문</h4><ul><li>12라인은 if 구문과 문자열을 +로 이어붙이는 구문입니다.</li><li>scala의 제어 구문은 대부분 어떤 값을 내놓으며, if 문도 마찬가지입니다.</li><li>C, C++, Java의 삼항연산자(?:)와 같이 삼항 연산자 모델을 채용하되, 삼항 연산자와 if를 합쳐서 if 구문으로만 사용합니다.</li></ul><h4 id="5-for-표현식"><a href="#5-for-표현식" class="headerlink" title="5. for 표현식"></a>5. for 표현식</h4><ul><li><p>7~13 라인의 <code>for {} yield {}</code>는 for 표현식입니다.</p></li><li><p>scala에서는 <u>제너레이터</u>라고 부르는 문법(<code>file &lt;- fileCollection</code>와 같은 형태)을 이용해 컬렉션을 이터레이션합니다. </p></li><li><p>for 표현식에서는 이터레이션 구문 뒤에 if절을 넣어서 filter를 추가(다중 if도 가능)할 수 있습니다. </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(</div><div class="line">  file &lt;- fileCollection</div><div class="line">  <span class="keyword">if</span> file.isFile</div><div class="line">  <span class="keyword">if</span> file.getName.endsWith(<span class="string">".scala"</span>)</div><div class="line">) println(file)</div></pre></td></tr></table></figure></li><li><p>여러 개의 제너레이터를 사용하면 for문은 중첩 이터레이션을 수행 합니다.</p></li><li><p>괄호 대신 중괄호를 사용해 제너레이터와 필터를 감싸도 동일하게 사용 가능합니다.</p></li><li><p><code>for (이터레이션) yield {본문}</code> 표현식을 사용하여 본문의 값을 배열로 반환할 수 있습니다.</p></li></ul><h4 id="6-toString-mkString"><a href="#6-toString-mkString" class="headerlink" title="6. toString, mkString"></a>6. toString, mkString</h4><ul><li>2라인의 <code>toString</code> 연산자는 해당 객체에 대한 표준 문자열 표현을 반환합니다.</li><li>다른 표현을 원한다면 <code>mkString</code> 메소드를 사용할 수 있습니다. 15라인의 <code>배열.mkString(&quot;\n&quot;)</code>은 배열의 각 원소를 개행문자로 연결하여 반환합니다.</li></ul><h3 id="참고문헌"><a href="#참고문헌" class="headerlink" title="참고문헌"></a>참고문헌</h3><p>Programming in Scala 3/e Updated for Scala 2.12 (2017, 에이콘 출판사)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;프로젝트에서 사용할 수 있다는 이유 때문에 최근 Scala를 공부하고 있습니다. &lt;/p&gt;
&lt;p&gt;지금까지 써본 개발 언어는 ASP, PHP 같은 스크립트 언어(&lt;del&gt;나이가 탄로나나요.. 쿨럭&lt;/del&gt;), 비교적 최근에 썼던 언어로는 Java,
      
    
    </summary>
    
      <category term="Application" scheme="https://kalipso.github.io/categories/Application/"/>
    
      <category term="Scala" scheme="https://kalipso.github.io/categories/Application/Scala/"/>
    
    
      <category term="scala 기초" scheme="https://kalipso.github.io/tags/scala-%EA%B8%B0%EC%B4%88/"/>
    
      <category term="함수형 프로그래밍" scheme="https://kalipso.github.io/tags/%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/"/>
    
      <category term="구구단" scheme="https://kalipso.github.io/tags/%EA%B5%AC%EA%B5%AC%EB%8B%A8/"/>
    
  </entry>
  
  <entry>
    <title>Apache Kudu의 특징과 테이블 관리</title>
    <link href="https://kalipso.github.io/2017/11/09/About-Apache-Kudu/"/>
    <id>https://kalipso.github.io/2017/11/09/About-Apache-Kudu/</id>
    <published>2017-11-09T08:20:21.000Z</published>
    <updated>2017-11-09T08:21:43.122Z</updated>
    
    <content type="html"><![CDATA[<p>프로젝트에서 Kudu를 쓸 기회가 생겨서 간단하게 특징을 정리해보기로 하겠습니다. Cloudera 위에서 Kudu-Impala를 약간 써본 관계로, 전체적인 내용보다는 특징적인 부분만을 정리해보려고 합니다. </p><p><img src="http://farm5.staticflickr.com/4582/37564317094_09c44cdb22_b.jpg" alt=""></p><h2 id="Kudu의-특징"><a href="#Kudu의-특징" class="headerlink" title="# Kudu의 특징"></a># Kudu의 특징</h2><ul><li>Apache Hadoop 플랫폼 환경에서 사용되는 <strong>Columnar 스토리지 엔진</strong>이다.    <ul><li>데이터웨어하우징 워크로드에서 유리함</li></ul></li><li>MapReduce, Spark 및 기타 Hadoop ecosystem 컴포넌트와 통합된다.</li><li>엄격한 직렬화 일관성을 포함하여 일관성 유지를 위한 다양한 옵션을 제공한다.</li><li>Raft Consensus 알고리즘을 사용하여 높은 가용성을 유지한다. 반수 이상의 Replica가 Available하다면 Tablet Server는 Read/Write를 수행할 수 있다.</li><li>구조화된 모델(Structured Data Model)</li></ul><h2 id="Kudu의-구조"><a href="#Kudu의-구조" class="headerlink" title="# Kudu의 구조"></a># Kudu의 구조</h2><ul><li><p><strong>Table</strong> : 데이터가 저장되는 공간. Table은 Schema 정렬된 Primary Key를 가진다. Table은 Tablet이라는 세그먼트로 분할된다.</p></li><li><p><strong>Tablet</strong> : Table의 연속 세그먼트. Tablet은 여러 Tablet Server에 ReplicaSet를 구성함</p></li><li><p><strong>Tablet Server</strong> : Tablet을 저장하고 클라이언트에 저장하는 역할을 한다. Raft Consensus 알고리즘을 사용하여 리더를 선출하고 읽기 혹은 쓰기 요청을 처리한다.</p></li><li><p><strong>Master</strong> : Tablet, Tablet Server, Catalog Table 및 클러스터와 관련한 Metadata를 가진다. 현재 Leader가 사라지면 Raft Consensus 알고리즘을 이용하여 새로운 Master가 선출된다.<br>또한 Master는 새로운 Table에 대한 metadata를 Catalog Table에 쓰거나 Tablet Server들에 Tablet을 생성하는 프로세스를 조정하는 등의 metadata 오퍼레이션을 수행한다.  </p><p>Table Server들은 셋팅된 Interval에 따라 Master에 heartbeat를 전송한다.</p></li></ul><p><img src="https://kudu.apache.org/docs/images/kudu-architecture-2.png" alt="3개의 Master가 있는 Kudu 클러스터"></p><h2 id="Kudu-Impala-테이블-생성"><a href="#Kudu-Impala-테이블-생성" class="headerlink" title="# Kudu-Impala 테이블 생성"></a># Kudu-Impala 테이블 생성</h2><h4 id="Internal-amp-External-Impala-Table"><a href="#Internal-amp-External-Impala-Table" class="headerlink" title="Internal &amp; External Impala Table"></a>Internal &amp; External Impala Table</h4><ul><li><p><strong>Internal</strong> : </p><ul><li>Impala에 의해 관리되며 </li><li>Impala에서 삭제하면 데이터와 테이블이 완전 삭제됨. </li><li>Impala를 사용하여 새 테이블을 만들면 일반적으로 내부 테이블</li></ul></li><li><p><strong>External</strong> : </p><ul><li><p>Create External Table로 생성할 수 있으며</p></li><li><p>테이블을 삭제해도 Kudu에서 테이블이 삭제되지 않고, Impala와 Kudu 간 매핑만 제거함.</p></li><li><p>Kudu API 또는 Apache Spark 등에서 만들었을 경우 Impala에서 자동으로 표시되지 않기 때문에, 먼저 Impala에서 External 테이블을 만들어 Kudu 테이블과 Impala 데이터베이스를 매핑해야 함.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">EXTERNAL</span> <span class="keyword">TABLE</span> my_mapping_table</div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU</div><div class="line">TBLPROPERTIES (</div><div class="line">  <span class="string">'kudu.table_name'</span> = <span class="string">'my_kudu_table'</span></div><div class="line">);</div></pre></td></tr></table></figure></li></ul></li></ul><h4 id="Impala에서-새로운-Kudu-테이블-만들기"><a href="#Impala에서-새로운-Kudu-테이블-만들기" class="headerlink" title="Impala에서 새로운 Kudu 테이블 만들기"></a>Impala에서 새로운 Kudu 테이블 만들기</h4><ul><li><p><strong>테이블 생성</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">--일반적인 생성구문</span></div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_first_table</div><div class="line">(</div><div class="line">  <span class="keyword">id</span> <span class="built_in">BIGINT</span>,</div><div class="line">  <span class="keyword">name</span> <span class="keyword">STRING</span>,</div><div class="line">  PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>)</div><div class="line">)</div><div class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">HASH</span> <span class="keyword">PARTITIONS</span> <span class="number">16</span></div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU;</div><div class="line"></div><div class="line"><span class="comment">-- CTAS</span></div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> new_table</div><div class="line">PRIMARY <span class="keyword">KEY</span> (ts, <span class="keyword">name</span>)</div><div class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">HASH</span>(<span class="keyword">name</span>) <span class="keyword">PARTITIONS</span> <span class="number">8</span></div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU</div><div class="line"><span class="keyword">AS</span> <span class="keyword">SELECT</span> ts, <span class="keyword">name</span>, <span class="keyword">value</span> <span class="keyword">FROM</span> old_table;</div></pre></td></tr></table></figure><p>※ Kudu는 현재 (2017.11) 자동/수동 Sharding 매커니즘이 없기 때문에, 테이블을 만들 때 <code>partition by</code> 절을 이용하여 분할 Key를 지정해야 한다.</p><p>​</p></li></ul><h4 id="파티션-설정"><a href="#파티션-설정" class="headerlink" title="파티션 설정"></a>파티션 설정</h4><ul><li><p><code>PARTITION BY RANGE</code> : 범위 파티션을 지정할 수 있으며, 아래와 같이 사용함.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> cust_behavior (</div><div class="line">  _id <span class="built_in">BIGINT</span> PRIMARY <span class="keyword">KEY</span>,</div><div class="line">  salary <span class="keyword">STRING</span>,</div><div class="line">  edu_level <span class="built_in">INT</span>,</div><div class="line">  usergender <span class="keyword">STRING</span>,</div><div class="line">  <span class="string">`group`</span> <span class="keyword">STRING</span>,</div><div class="line">  city <span class="keyword">STRING</span>,</div><div class="line">  postcode <span class="keyword">STRING</span>,</div><div class="line">  last_purchase_price <span class="built_in">FLOAT</span>,</div><div class="line">  last_purchase_date <span class="built_in">BIGINT</span>,</div><div class="line">  <span class="keyword">category</span> <span class="keyword">STRING</span>,</div><div class="line">  sku <span class="keyword">STRING</span>,</div><div class="line">  rating <span class="built_in">INT</span>,</div><div class="line">  fulfilled_date <span class="built_in">BIGINT</span></div><div class="line">)</div><div class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">RANGE</span> (_id)</div><div class="line">(</div><div class="line">    <span class="keyword">PARTITION</span> <span class="keyword">VALUES</span> &lt; <span class="number">1439560049342</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439560049342</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="number">1439566253755</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439566253755</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="number">1439572458168</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439572458168</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="number">1439578662581</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439578662581</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="number">1439584866994</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439584866994</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="number">1439591071407</span>,</div><div class="line">    <span class="keyword">PARTITION</span> <span class="number">1439591071407</span> &lt;= <span class="keyword">VALUES</span></div><div class="line">)</div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU;</div></pre></td></tr></table></figure></li><li><p><code>PARTITION BY HASH</code> : HASH 값으로 파티셔닝하며, column을 지정하지 않으면 모든 기본 키 열을 해싱하여 원하는 수의 버킷을 생성할 수 있다.</p><blockquote><p>값이 단조롭게 증가하는 열에서 범위별로 파티션을 나누면 마지막 Tablet이 다른 테이블보다 훨씬 커지므로 주의할 것.</p></blockquote></li><li><p><code>PARTITION BY HASH</code> and <code>RANGE</code> : 다음과 같은 형태로 복합 파티션 키를 설정할 수 있음.</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> cust_behavior (</div><div class="line">  <span class="keyword">id</span> <span class="built_in">BIGINT</span>,</div><div class="line">  sku <span class="keyword">STRING</span>,</div><div class="line">  salary <span class="keyword">STRING</span>,</div><div class="line">  edu_level <span class="built_in">INT</span>,</div><div class="line">  usergender <span class="keyword">STRING</span>,</div><div class="line">  <span class="string">`group`</span> <span class="keyword">STRING</span>,</div><div class="line">  city <span class="keyword">STRING</span>,</div><div class="line">  postcode <span class="keyword">STRING</span>,</div><div class="line">  last_purchase_price <span class="built_in">FLOAT</span>,</div><div class="line">  last_purchase_date <span class="built_in">BIGINT</span>,</div><div class="line">  <span class="keyword">category</span> <span class="keyword">STRING</span>,</div><div class="line">  rating <span class="built_in">INT</span>,</div><div class="line">  fulfilled_date <span class="built_in">BIGINT</span>,</div><div class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="keyword">id</span>, sku)</div><div class="line">)</div><div class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">HASH</span> (<span class="keyword">id</span>) <span class="keyword">PARTITIONS</span> <span class="number">4</span>,</div><div class="line"><span class="keyword">RANGE</span> (sku)</div><div class="line">(</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUES</span> &lt; <span class="string">'g'</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="string">'g'</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="string">'o'</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="string">'o'</span> &lt;= <span class="keyword">VALUES</span> &lt; <span class="string">'u'</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="string">'u'</span> &lt;= <span class="keyword">VALUES</span></div><div class="line">)</div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU;</div></pre></td></tr></table></figure></li><li><p>Non-Covering Range Partitions : Kudu 1.0 이상에서 다음과 같은 Range 파티션을 만들 수 있다. </p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sales_by_year (</div><div class="line">  <span class="keyword">year</span> <span class="built_in">INT</span>, sale_id <span class="built_in">INT</span>, amount <span class="built_in">INT</span>,</div><div class="line">  PRIMARY <span class="keyword">KEY</span> (sale_id, <span class="keyword">year</span>)</div><div class="line">)</div><div class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">RANGE</span> (<span class="keyword">year</span>) (</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2012</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2013</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2014</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2015</span>,</div><div class="line">  <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2016</span></div><div class="line">)</div><div class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> KUDU;</div></pre></td></tr></table></figure><p>  이 테이블은 2017이 되면 입력이 거부되기 때문에, 다음과 같이 range가 추가되어야 한다.</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sales_by_year <span class="keyword">ADD</span> <span class="keyword">RANGE</span> <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2017</span>;</div></pre></td></tr></table></figure><p>  마찬가지로, range partition은 drop될 수 있다.</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sales_by_year <span class="keyword">ADD</span> <span class="keyword">RANGE</span> <span class="keyword">PARTITION</span> <span class="keyword">VALUE</span> = <span class="number">2017</span>;</div></pre></td></tr></table></figure></li></ul><h4 id="테이블-속성-변경"><a href="#테이블-속성-변경" class="headerlink" title="테이블 속성 변경"></a>테이블 속성 변경</h4><ul><li><p>Internal 테이블인 경우, <code>kudu.table_name</code>속성을 변경하여 기본 Kudu 테이블 이름 변경</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> my_internal_table</div><div class="line"><span class="keyword">SET</span> TBLPROPERTIES(<span class="string">'kudu.table_name'</span> = <span class="string">'new_name'</span>)</div></pre></td></tr></table></figure></li><li><p>다른 응용 프로그램이 Impala에서 Kudu 테이블의 이름을 바꾼 경우 외부 테이블 다시 매핑</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> my_external_table_</div><div class="line"><span class="keyword">SET</span> TBLPROPERTIES(<span class="string">'kudu.table_name'</span> = <span class="string">'some_other_kudu_table'</span>)</div></pre></td></tr></table></figure></li><li><p>Kudu Master 주소 변경</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> my_table</div><div class="line"><span class="keyword">SET</span> TBLPROPERTIES(<span class="string">'kudu.master_addresses'</span> = <span class="string">'kudu-new-master.example.com:7051'</span>);</div></pre></td></tr></table></figure></li><li><p>Internal -&gt; External로 변경</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> my_table <span class="keyword">SET</span> TBLPROPERTIES(<span class="string">'EXTERNAL'</span> = <span class="string">'TRUE'</span>);</div></pre></td></tr></table></figure><p>​## 참고</p></li></ul><hr><p>Introducing Apache Kudu(<a href="https://kudu.apache.org/docs/" target="_blank" rel="external">https://kudu.apache.org/docs/</a>)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;프로젝트에서 Kudu를 쓸 기회가 생겨서 간단하게 특징을 정리해보기로 하겠습니다. Cloudera 위에서 Kudu-Impala를 약간 써본 관계로, 전체적인 내용보다는 특징적인 부분만을 정리해보려고 합니다. &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;htt
      
    
    </summary>
    
      <category term="Database" scheme="https://kalipso.github.io/categories/Database/"/>
    
      <category term="kudu" scheme="https://kalipso.github.io/categories/Database/kudu/"/>
    
    
      <category term="kudu" scheme="https://kalipso.github.io/tags/kudu/"/>
    
      <category term="hadoop" scheme="https://kalipso.github.io/tags/hadoop/"/>
    
      <category term="kudu-impala" scheme="https://kalipso.github.io/tags/kudu-impala/"/>
    
      <category term="kudu partition" scheme="https://kalipso.github.io/tags/kudu-partition/"/>
    
  </entry>
  
  <entry>
    <title>Github Page에 Hexo 블로그 만들기</title>
    <link href="https://kalipso.github.io/2017/11/08/how-to-make-hexo-blog-on-github-page/"/>
    <id>https://kalipso.github.io/2017/11/08/how-to-make-hexo-blog-on-github-page/</id>
    <published>2017-11-08T08:02:10.000Z</published>
    <updated>2017-11-09T08:27:21.561Z</updated>
    
    <content type="html"><![CDATA[<h2 id="프롤로그"><a href="#프롤로그" class="headerlink" title="프롤로그"></a>프롤로그</h2><p>올해 여름, 11개월 프로젝트를 마치고 나와서 오랜만에 티스토리 블로그를 접속했더니 접속이 되지 않았습니다.</p><p>다음 고객센터를 페이지를 통해서 티스토리 담당자랑 한참 실갱이를 했는데, 누군가 해킹을 해서 내 블로그와 글을 모두 삭제하였고, 해당 블로그는 결국 살릴 수 없다고 합니다. 쿠궁 ㅠㅠ</p><p>가끔씩 써오기는 했지만 나름 10년을 써왔던 블로그인데 한순간에 날아가버린 거죠.. 이렇게 허무할 수가..</p><p>눈물을 머금고 블로그 선택에 대한 포스팅(<a href="http://blog.kalkin7.com/2015/07/07/maintain-a-blog-for-a-long-time/" target="_blank" rel="external">내 글을 오래 남기기 위한 블로그 선택</a>)들을 찾아보다가 GitHub Page에서 Hexo를 이용해 블로그를 구축하는 방법을 선택하였는데, 선택의 주된 이유를 정리해보면 이렇습니다.</p><ul><li>변경 자유도가 높다.</li><li>보안 및 컨텐츠 유실로부터 비교적 안전하다. <ul><li>web환경에서 로그인 및 권한획득 과정이 없음. </li><li>기본적으로 PC에서 소스를 관리함. </li><li>GitHub를 통해 버전 관리가 가능함. </li></ul></li><li>모든 기능을 제한없이 무료로 사용할 수 있다. </li><li>Jekyll과 Hexo를 비교한 결과, Hexo가 더 예쁘다.</li></ul><p><img src="https://farm5.staticflickr.com/4573/38204775206_4a6d29f021_m.jpg" alt=""></p><blockquote><p>A fast, simple &amp; powerful blog framework</p></blockquote><p>약간의 삽질을 통해 Hexo 블로그를 만들게 되었는데, 그 과정을 아래에 기록합니다.</p><h2 id="GitHub으로-정적-페이지-생성하기"><a href="#GitHub으로-정적-페이지-생성하기" class="headerlink" title="# GitHub으로 정적 페이지 생성하기"></a># GitHub으로 정적 페이지 생성하기</h2><p>GitHub에서는 Repository를 생성하여 정적 페이지를 서비스할 수 있는 기능을 제공합니다.</p><h4 id="1-Repository-생성"><a href="#1-Repository-생성" class="headerlink" title="1. Repository 생성"></a>1. Repository 생성</h4><p>GitHub에서 “New Repository” 선택 후 Repository Name, Description 등 입력하고 Repository을 생성합니다.</p><p><img src="http://farm5.staticflickr.com/4562/24387340028_fc8d18364f_b.jpg" alt=""> </p><p>※ Add License 등 옵션은 선택하지 않음</p><h4 id="2-Clone-then-Repository"><a href="#2-Clone-then-Repository" class="headerlink" title="2. Clone then Repository"></a>2. Clone then Repository</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#1. Repository를 "pub"저장소로 clone</span></div><div class="line">d:\blog&gt; git <span class="built_in">clone</span> https://github.com/username/username.github.io.git pub</div><div class="line">Cloning into <span class="string">'pub'</span>...</div><div class="line">warning: You appear to have cloned an empty repository.</div></pre></td></tr></table></figure><h4 id="3-Hello-world-서비스-테스트"><a href="#3-Hello-world-서비스-테스트" class="headerlink" title="3. Hello world 서비스 테스트"></a>3. Hello world 서비스 테스트</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#2. index.html 생성</span></div><div class="line">d:\blog&gt; <span class="built_in">cd</span> pub</div><div class="line">d:\blog\pub&gt; <span class="built_in">echo</span> <span class="string">"Hello World"</span> &gt; index.html</div><div class="line"></div><div class="line"><span class="comment">#. Remote 저장소에 변경내역 Push</span></div><div class="line">d:\blog\pub&gt; git add --all</div><div class="line">d:\blog\pub&gt; git commit -m <span class="string">"Initial commit"</span></div><div class="line">d:\blog\pub&gt; git push -u origin maser</div></pre></td></tr></table></figure><h4 id="4-접속확인"><a href="#4-접속확인" class="headerlink" title="4. 접속확인"></a>4. 접속확인</h4><p>페이지 접속 확인 브라우저에서 Repository name으로 접속하여 접속 확인<br>※ 위에서 pub 폴더는 서비스용이 아니고 테스트 용도입니다.</p><h2 id="Hexo-설치"><a href="#Hexo-설치" class="headerlink" title="# Hexo 설치"></a># Hexo 설치</h2><h4 id="1-사전설치"><a href="#1-사전설치" class="headerlink" title="1. 사전설치"></a>1. 사전설치</h4><p>설치 전 준비 Hexo를 이용하기 위해서는 다음 구성요소들이 사전에 설치되어 있어야 합니다.</p><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a> </li><li><a href="https://git-scm.com/" target="_blank" rel="external">Git</a></li></ul><h4 id="2-Hexo-Client-및-저장소-설정"><a href="#2-Hexo-Client-및-저장소-설정" class="headerlink" title="2. Hexo Client 및 저장소 설정"></a>2. Hexo Client 및 저장소 설정</h4><p>npm을 이용하여 Hexo Client를 설치하고 저장소를 설정합니다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#1. hexo client 설치</span></div><div class="line">D:\blog&gt; npm install hexo-cli-g</div><div class="line"></div><div class="line"><span class="comment">#2. hexo 저장소 생성 및 설치</span></div><div class="line">D:\blog&gt; hexo init src</div><div class="line">D:\blog&gt; <span class="built_in">cd</span> src</div><div class="line">D:\blog\src&gt; npm install</div></pre></td></tr></table></figure><h4 id="3-config-yml-파일-설정"><a href="#3-config-yml-파일-설정" class="headerlink" title="3. _config.yml 파일 설정"></a>3. _config.yml 파일 설정</h4><p>hexo의 기본정보를 셋팅합니다. “Plugins”의 첫번째 문자가 대문자임에 유의하세요. (<del>저처럼 3일 동안 삽질할 수 있습니다</del>)</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Site</span></div><div class="line"><span class="comment"># language를 ko로 만들면 Home &gt; 홈으로 나오는 등의 부작용</span></div><div class="line"><span class="attr">title:</span> <span class="string">낭만디비술사</span></div><div class="line"><span class="attr">subtitle:</span></div><div class="line"><span class="attr">description:</span></div><div class="line"><span class="attr">author:</span> <span class="string">kalipso</span></div><div class="line"><span class="attr">language:</span> <span class="string">en</span></div><div class="line"><span class="attr">timezone:</span> <span class="string">Asia/Seoul</span></div><div class="line"></div><div class="line"><span class="string">...</span> <span class="string">중략</span> <span class="string">...</span></div><div class="line"></div><div class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></div><div class="line"><span class="attr">Plugins:</span></div><div class="line"><span class="bullet">-</span> <span class="string">hexo-deployer-git</span></div><div class="line"></div><div class="line"><span class="string">...</span> <span class="string">중략</span> <span class="string">...</span></div><div class="line"></div><div class="line"><span class="comment"># Deployment</span></div><div class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></div><div class="line"><span class="attr">deploy:</span></div><div class="line"><span class="attr">  type:</span> <span class="string">git</span></div><div class="line"><span class="attr">  repo:</span> <span class="attr">https://github.com/username/username.github.io.git</span></div></pre></td></tr></table></figure><h4 id="4-Hexo-로컬-서버에서-확인"><a href="#4-Hexo-로컬-서버에서-확인" class="headerlink" title="4. Hexo 로컬 서버에서 확인"></a>4. Hexo 로컬 서버에서 확인</h4><p>로컬 서버를 만들고 확인할 수 있습니다. 기본적으로 로컬 페이지는 포트 4000입니다.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># server 설치</span></div><div class="line">D:\blog\src&gt;npm install hexo-server --save</div><div class="line"></div><div class="line"><span class="comment"># 서버 구동</span></div><div class="line">D:\blog\src&gt;hexo server</div></pre></td></tr></table></figure></p><p>   <a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> 에서 확인 가능</p><h4 id="5-GitHub에-Deploy"><a href="#5-GitHub에-Deploy" class="headerlink" title="5. GitHub에 Deploy"></a>5. GitHub에 Deploy</h4><p>아래에서 hexo-deployer-git은 _config.yml에 정의되어 있기 때문에, server를 구동하기 전에 먼저 설치되어야 합니다.<br>아래 명령을 통해 간단하게 Github에 Deploy할 수 있습니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># deployer 설치</div><div class="line">D:\blog\src&gt;npm install hexo-deployer-git --save</div><div class="line"></div><div class="line"># generate 및 github-deploy</div><div class="line">D:\blog\src&gt;hexo deploy --generate</div></pre></td></tr></table></figure></p><p>   <a href="http://username.github.io" target="_blank" rel="external">http://username.github.io</a> 에 deploy 완료. </p><h2 id="Theme-적용하기"><a href="#Theme-적용하기" class="headerlink" title="# Theme 적용하기"></a># Theme 적용하기</h2><p><a href="https://hexo.io/themes/" target="_blank" rel="external">https://hexo.io/themes/</a> 에 접속해서 Hexo에서 사용할 수 있는 여러가지 Theme를 확인하고 선택할 수 있습니다.<br>저는 많은 블로그들이 사용하고 있는 hueman(<a href="https://github.com/ppoffice/hexo-theme-hueman/wiki/Installation" target="_blank" rel="external">https://github.com/ppoffice/hexo-theme-hueman/wiki/Installation</a>) 을 사용했습니다. (중국어로 된 테마도 많은데, 언어 문제로 포기..)</p><p>대부분의 Theme가 sample 페이지와 Installation 문서를 포함한 Github 페이지를 제공하고 있기 때문에 설치가 어렵지 않습니다.<br>다만, 로컬에서 Server 재시작에도 변경사항이 제대로 반영되지 않을때, clean 명령을 통해 저장소를 초기화할 수 있습니다.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">D:\blog\src&gt; hexo clean</div><div class="line">D:\blog\src&gt; hexo server</div></pre></td></tr></table></figure><h2 id="백업-설정"><a href="#백업-설정" class="headerlink" title="# 백업 설정"></a># 백업 설정</h2><p>Jekyll과 달리 Hexo는 각 변경사항이 모두 Git으로 버전관리가 되지 않기 때문에, 유실에 대비하여 GitHub에 Repository(<a href="https://github.com/username/blog-source.git" target="_blank" rel="external">https://github.com/username/blog-source.git</a>) 를 만들고 관리하는 것으로 설정하였다.</p><h2 id="1-Hexo-저장소-git에-관리"><a href="#1-Hexo-저장소-git에-관리" class="headerlink" title="1. Hexo 저장소 git에 관리"></a>1. Hexo 저장소 git에 관리</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># git 저장소로 만들고 커밋</span></div><div class="line">D:\blog\src&gt; git init</div><div class="line">D:\blog\src&gt; git add --all</div><div class="line">D:\blog\src&gt; git commit -m <span class="string">"initial commit"</span></div><div class="line">D:\blog\src&gt; git remote add origin https://github.com/username/blog-source.git</div><div class="line">D:\blog\src&gt; git push origin master</div></pre></td></tr></table></figure><h2 id="2-배치파일-생성"><a href="#2-배치파일-생성" class="headerlink" title="2. 배치파일 생성"></a>2. 배치파일 생성</h2><p>반영시마다 Hexo 저장소를 commit하고 반영하는 배치파일 생성<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># hexoCommit.bat 파일 생성</span></div><div class="line"></div><div class="line">D:\blog\src&gt; copy con hexoCommit.bat</div><div class="line"><span class="built_in">cd</span> D:\blog\src</div><div class="line">git add --all</div><div class="line">git commit -m <span class="string">"블로그 소스 반영(%date%)"</span></div><div class="line">git push -u origin master</div><div class="line">hexo deploy --generate</div><div class="line"></div><div class="line"><span class="comment"># Ctrl + Z (저장)</span></div></pre></td></tr></table></figure></p><h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><hr><ul><li>Github Pages와 Hexo를 통해 30분만에 기술 블로그 만들기(<a href="https://www.holaxprogramming.com/2017/04/16/github-page-and-hexo/" target="_blank" rel="external">https://www.holaxprogramming.com/2017/04/16/github-page-and-hexo/</a>)</li><li>워드프레스보다 쉬운 Hexo 블로그 시작하기(<a href="http://futurecreator.github.io/2016/06/14/get-started-with-hexo/" target="_blank" rel="external">http://futurecreator.github.io/2016/06/14/get-started-with-hexo/</a>)</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;프롤로그&quot;&gt;&lt;a href=&quot;#프롤로그&quot; class=&quot;headerlink&quot; title=&quot;프롤로그&quot;&gt;&lt;/a&gt;프롤로그&lt;/h2&gt;&lt;p&gt;올해 여름, 11개월 프로젝트를 마치고 나와서 오랜만에 티스토리 블로그를 접속했더니 접속이 되지 않았습니다.&lt;/
      
    
    </summary>
    
      <category term="Application" scheme="https://kalipso.github.io/categories/Application/"/>
    
      <category term="Hexo" scheme="https://kalipso.github.io/categories/Application/Hexo/"/>
    
    
      <category term="hexo" scheme="https://kalipso.github.io/tags/hexo/"/>
    
      <category term="블로그 만들기" scheme="https://kalipso.github.io/tags/%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
    
      <category term="github" scheme="https://kalipso.github.io/tags/github/"/>
    
  </entry>
  
</feed>
