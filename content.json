{"meta":{"title":"낭만디비술사","subtitle":null,"description":"kalipso의 IT/일상 블로그","author":"kalipso","url":"https://kalipso.github.io"},"pages":[{"title":"낭만디비술사 - kalipso의 2nd 블로그","date":"2017-12-25T10:42:13.000Z","updated":"2017-12-25T10:50:17.493Z","comments":true,"path":"about/index.html","permalink":"https://kalipso.github.io/about/index.html","excerpt":"","text":"Who여전히 공부할 게 많은 개발자입니다. 아키텍처와 데이터 설계에 관심이 많습니다. 그리고 느즈막한 나이에 아빠가 될 준비를 하고 있는 젊은 아저씨예요^^ What2017년 초 개발저장공간으로 사용하던 티스토리 블로그가 해킹 당해 날아간 후, 11월에 새로운 마음으로 만든 2nd 블로그입니다. 개인 저장공간이자 일기장이기도 하고, 세상과의 소통을 위한 작은 창이기도 합니다. 낭만디비술사라는 이름은 데이터 전문가가 되고자 하는 바램을 담아서, 티스토리에서 활동하셨던 러브네슬리님의 블로그명 “낭만타로술사”에서 차용하였습니다. 현재는 운영을 안하시는 듯, 블로그 소개만 남아있네요. 이 자리를 빌어 감사를 표합니다."}],"posts":[{"title":"［태교일기］ 임신 29주 1일","slug":"papa-diary-pregnant-29w","date":"2018-02-15T16:02:03.000Z","updated":"2018-02-15T16:03:33.398Z","comments":true,"path":"2018/02/16/papa-diary-pregnant-29w/","link":"","permalink":"https://kalipso.github.io/2018/02/16/papa-diary-pregnant-29w/","excerpt":"","text":"2018.02.15(목)구정 연휴 첫 날 저녁, 거실 스피커에서 흘러나오는 윈터플레이의 멜론맨과 티그레가 구워지고 있는 오븐의 타이머 소리가 절묘하게 어우러지고 있다. 아내는 몇 달 간 플레인, 치즈베이컨, 크렌베리 스콘과 무화과스콘, 초코/말차초코스콘을 성공적으로 런칭하고, 이번 연휴에는 지난 번에 아쉬웠던 티그레를 완성해볼 모양이다. 나도 태교여행 준비, 소홀했던 블로그와 교육 커리큘럼 준비 등.. 할 일이 많다. 연휴를 부지런하게. 가즈아^^ 무럭무럭 7개월이제 막 29주에 들어간 똥글이는 여전히 열심히 놀고, 잘 자라고 있다. 1~2주 전에는 태동이 적어서 살짝 걱정을 하기도 했는데, 책에서는 7개월의 태아에 대해서 이렇게 설명한다. 태아는 이제 움직일 수 있는 공간이 점점 줄어들기 때문에 움직이는 것을 차츰 포기하게 됩니다. 아직은 머리를 위쪽으로 둔 상태이지만 점차 아래로 방향 조절을 합니다. 아마도 엄마의 배와 아기가 같이 커가는 중에 태동이 약간 줄었다 늘었다 하는 모양이다. 와이프 배도 무럭무럭 자라나고 있어서 지금도 충분히 큰 것 같은데, 임신부 요가를 가면 배가 더더 큰 산모도 있다하니 놀라울 따름~ 지난 1월 검사에서는 똥글이가 돌아누워 있어서 얼굴을 볼 수 없었는데, 월요일(2/12) 정기검사에서는 오랜만에 얼굴을 보여주었다. 특히 똥글이의 콧대가 어떻게 생겼는지 걱정과 관심이 많은 아내는, 초음파를 보면서 선생님이 “아기가 콧대가 정말 높아요”라고 감탄했다며 좋아라 한다. 콧대와 입술이 나를 닮았다고 하는데, 나는 정말 모르겠음. 사진에서 보이는 코가 전부 다른 모양이지 않나요? [7개월] 임산부의 변화 임신 중기의 편안함이 끝나고 임신 후기의 신체 변화가 다시 불쾌한 증세를 가져온다. 임신선, 부종, 소화불량, 속쓰림이 나타나고 자궁수축 운동이 시작된다. 팔, 다리, 얼굴, 발목이 붓는다. [7개월] 태아의 변화 신체의 거의 모든 부분이 전부 형성된다. 아기는 딸굴질도 하고 비명도 지르고, 발길질과 주먹질을 하느라고 바쁘다. 28주 뇌 조직이 계속 발달, 태아가 꿈을 꾸기 시작한다. 29주 빛을 비추면 빛을 따라 고개를 돌린다. 7개월 말이 되면 체중이 1.4kg 정도까지 늘어난다.","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"태교일기","slug":"Diary/태교일기","permalink":"https://kalipso.github.io/categories/Diary/태교일기/"}],"tags":[{"name":"태교일기","slug":"태교일기","permalink":"https://kalipso.github.io/tags/태교일기/"},{"name":"임신 29주","slug":"임신-29주","permalink":"https://kalipso.github.io/tags/임신-29주/"},{"name":"똥글이","slug":"똥글이","permalink":"https://kalipso.github.io/tags/똥글이/"}]},{"title":"2018년, 신문 구독하기","slug":"start-newspaper-subscription","date":"2018-01-22T17:37:22.000Z","updated":"2018-01-22T17:38:55.395Z","comments":true,"path":"2018/01/23/start-newspaper-subscription/","link":"","permalink":"https://kalipso.github.io/2018/01/23/start-newspaper-subscription/","excerpt":"","text":"연말연시를 맞아 세운 계획 중의 하나가 “신문 구독”이었다. 요즘이야 모든 신문사들이 컨텐츠를 온라인으로 서비스하기는 하지만, 스마트폰으로 기사를 보다보면 흥미가 가는 기사만 골라서 클릭하게 되거나, 금새 쇼핑이나 SNS, 게임 알람 등에 시선을 빼앗기게 되어 “읽는 즐거움”으로 몰입하기가 힘들다. 신문 기사의 행간을 떠다니며 가독성을 저해하는 각종 광고는 또 어떤가. TV뉴스는 사정에 따라 못보게 되는 경우도 많고, 시간의 제약으로 인해 주제의 다양성이나 깊이, 혹은 모두에서 부족하다는 느낌을 받았다. 거의 유일한 예외가 손석희 님이 진행하는 JTBC 뉴스룸 정도랄까? 마침 이사도 했고, 와이프와 함께 어떤 신문을 볼지 고민을 시작했다. 어떤 신문을 볼까조중동은 제껴두고 판단했다. 조선, 중앙, 동아일보는 워낙 보수적이고 친 자본적이어서, 좀처럼 친밀감을 가질 수 없다. 경향신문을 볼지 한겨례를 볼지, 그리고 부동산이나 경제 흐름에 대한 시야를 넓혀줄 경제신문을 하나 더 보고 싶은데 어떤 신문을 봐야하는지가 고민이었다. 어떤 신문을 선택할지 결정하기 위해서는 우선 실물을 보는게 가장 확실하다고 생각하는데, 기사 각각의 내용 뿐만 아니라 기사를 어디에 어떤 비중으로, 어떤 타이틀로 배치했는지가 그 신문의 지향을 표현한다고 보기 때문이다. 그러나 신문을 찾아보는 것도 쉬운 일이 아니었다. 당연히 지하철역에 가면 신문 판매하는 곳이 있을 줄 알았는데, 정자역 어디에도 신문 판매하는 곳이 없었다. 지하철 편의점에서 신문을 살수 없다는 것이 이상해서 동네의 가장 큰 편의점을 가봤지만, 역시 신문을 판매하지 않았다. 그러고보니 요즘에는 지하철 선반에 가득 올려져있던 신문도 볼 수가 없구나. 특히나 무가지(無價紙)가 유행하던 시절에는 지하철에 선반마다 신문이 가득했었는데… 바야흐로, 길거리에서 신문이 없어지는 시대가 온 것이다. 고민을 하던 중 도서관에서 여러 종류의 신문을 볼 수 있다는게 떠올라서, 주말에 아내와 함께 도서관을 방문했다. 역시 각종 신문이 보관되어 있고, 신문을 펼쳐놓고 볼 수 있는 책상도 제공한다. 역시 도서관 최고~^^ 우선 경향신문과 한겨례를 비교하고, 한국경제와 매일경제를 비교했다. 경향신문과 한겨례 중 경향신문을 선택하는데는 이견이 없었다. 경향신문의 구성과 서체가 좀 더 가시적이었고, 기사의 논조도 더 객관적이라는 느낌을 주었다. 물론 개인의 취향일 뿐이지만. 다만 경제지는 의견이 엇갈렸다. 정치적 논조는 둘다 크게 다를 바 없었다. 중도보다는 보수에 가깝고 재계의 입장을 반영하는. 다만 구성과 디자인 면에서 한국경제가 더 낫다고 생각했는데, 아내는 매일경제가 더 읽기 편하다고 했다. 우리는 우선 경향신문을 보고, 경제신문은 나중에 다시 생각해보기로 결정했다. 신문 구독 신청마침 멀지 않은 곳에 신문 지국이 있었다. 전화를 걸어서 조건을 물어보니 3개월을 무료로 넣어주고 이후에는 한달 구독료가 18,000원이라고 한다. 조중동은 6개월 무료로 넣어주고 한달에 15,000원이라고 하던데.. 약간 비싼 감이 없지 않지만 어쩌겠는가. 두 신문의 발행 부수 차이는 엄청나다. “뭐 서비스로 주시는 건 없나요?”라고 묻자 “조선일보처럼 사은품 끼워드리는 건 없구요, 대신 한국경제 서비스로 드릴께요.” 와.. 이런..개이득ㅋㅋ 망설일 이유가 없었다. 다음날부터 바로 가져다 달라고 부탁했다. 그렇게 나는 2018년 새해 첫날, 신문을 받아볼 수 있었다. 신문 구독 후기 신문은 일요일을 제외하고 매일 온다. 와이프와 함께 다양한 정보를 접할 수 있도록, 출근할 때에는 신문 종류를 바꿔가면서 가져간다. 월수금은 내가 경향신문, 화목토는 내가 한국경제 이런식이다. 요즘은 워낙 신문을 읽는 사람이 많지 않아서, 출근길에 신문을 들고 있는 것은 뭔가 괴짜스럽기까지 한 것은 사실이다. 사람들 사이에서 신문을 접고 펴고 하는 것도 살짝 불편하다. 그럼에도 정치, 경제, 사회, 문화, 책과 스포츠까지, 다양한 분야의 따끈한 소식을 매일 아침 접하는 것은 참 기분좋은 일인 것 같다. 이런 뿌듯함을 한달 18,000원에 산다는건 아깝지 않다. 새벽 3~4시부터 신문을 준비하고 배달하시는 분의 수고를 생각하면 더더욱 그렇고 말이다. 디지털 컨텐츠 범람의 시대. 잉크 냄새가 아릿한, 신문 보기를 추천한다.","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"일상/여행","slug":"Diary/일상-여행","permalink":"https://kalipso.github.io/categories/Diary/일상-여행/"}],"tags":[{"name":"신문구독","slug":"신문구독","permalink":"https://kalipso.github.io/tags/신문구독/"},{"name":"어떤신문을볼까","slug":"어떤신문을볼까","permalink":"https://kalipso.github.io/tags/어떤신문을볼까/"},{"name":"경향신문구독","slug":"경향신문구독","permalink":"https://kalipso.github.io/tags/경향신문구독/"},{"name":"한국경제구독","slug":"한국경제구독","permalink":"https://kalipso.github.io/tags/한국경제구독/"}]},{"title":"［태교일기］ 임신 23주 4일","slug":"papa-diary-pregnant-23w","date":"2018-01-07T16:46:13.000Z","updated":"2018-01-07T16:49:28.720Z","comments":true,"path":"2018/01/08/papa-diary-pregnant-23w/","link":"","permalink":"https://kalipso.github.io/2018/01/08/papa-diary-pregnant-23w/","excerpt":"","text":"2018.01.07(일)해가 바뀌어 황금개 띠의 해가 밝았다. 안팎으로 느낌이 좋은 새해다. 정치도 안정적으로 제자리를 찾아가고 있으며(문재인 정부와 이낙연 총리 이하 다방면으로 잘하고 있는 것 같다), 미국 증시를 비롯해 세계 경제가 호조세를 보이면서 우리나라 경제도 3% 이상 성장할 것으로 예상되고 있다. 북미관계의 긴장감과 군사적 위협이 상당히 높았지만, 김정은 신년사와 평창 동계올림픽을 통해 해빙무드가 조성되고 있는 것으로 보인다. 작년보다 나은 한해가 될 것이라는 생각이 든게 참 오랜만(혹은 처음)인데, 이게 똥글이 때문인지 아니면 제반 환경의 영향인지 잘 모르겠다. 여하튼 희망이 있다는 것은 좋다. 모두가, 행복한 새해가 되었으면 좋겠다. 태동똥글이두 아빠와 공감하고 있는 것 인지, 별탈 없이 잘 크고 있는 것 같다. 18~20주에는 태동이 약한 듯 해서 살짝 걱정을 했는데, 지난 12/18 아내가 병원에 가서 아기가 아주 잘 놀고 있다는 말을 들은 후로는 정말로 잘 놀기 시작했다. 패턴을 보면 꽤 다채로운 행동을 하는데, 아내의 말에 따르면 꾸물텅꾸물텅 움직이기도 하고, 뻥 차기도 하고, 뽀글뽀글 하기도 한단다. 대부분은 내가 직접 느끼지는 못하지만, 지난번에는 동화책을 읽어주다가 귀를 가만히 대고 있었는데 뻥 차서 확실히 느낄 수 있었다. 특히 밥 때가 되거나 뭘 먹거나 할 때 더 활발해진다고. 고작 뭔가를 먹이고 움직이는 것 정도이지만, 우리는 커뮤니케이션을 시작한 것이다. 태교 동화임신 17~20주가 되면 청각 기관이 발달하고 태아가 엄마의 내장 기관과 외부 세상의 소리를 들을 수 있다고 한다. 물론 정말 듣고 반응하려면 6개월 이상이 되어야 한다고는 하지만. 아빠 욕심에 15주 정도부터 태교 동화를 들려주기 시작했다. 중고OO에서 죽전에 사는 애기 엄마한테 2권 만오천원에 구입^^ 태교 동화는 어떤 내용일까, 너무 재미없어서 공감이 안되지 않을까라고 생각했는데 걱정할 필요는 없었다. 하루 5분 엄마 목소리는 &lt;태교 동화를 읽는 시간, 사랑을 배우는 아이&gt;, 하루 5분 아빠 목소리는 &lt;태교 동화를 읽는 시간, 지혜를 배우는 아이&gt;라는 부제를 달고 있는데, 우리가 공감이 가는 부분이 많아서 감정이입하는데 어려움이 없었다. 보통 2개 챕터 정도(5~7쪽 분량)를 읽어주고 마치는데, 와이프가 한참 재미있을 때 그만 읽어서 알쓸신잡 중간 광고 같다라는 둥, 더 읽어달라고 조르는 때가 있어서 한개 챕터를 더 읽어주는 때도 더러 있었다. 8주 가량이 지난 지금 9개 이야기 중에서 7개를 읽었으니 양도 그렇게 적지 않아서, 아기한테 이야기를 들려주고 싶을 때 좋은 것 같다. [6개월] 임산부의 변화 배가 눈에 띄게 커지고, 엉덩이와 대퇴부에도 살이 찐다. 가슴이 커지고 가슴의 혈관이 두드러지게 나타난다. 기본적인 신진대사량이 20% 증가하면서 체온이 올라간다. [6개월] 태아의 변화 뇌가 급속도로 성장하고 청각이 발달한다. 연구 결과를 보면 아기가 클래식과 대중음악 중에 무엇을 선호하는지 의사소통을 할 수 있다고 한다. 23주 눈썹과 속눈썹이 생기고, 잇몸 밑으로 치아가 보이기 시작한다. 25주 몸이 통통해지고 피부는 쭈글쭈글해진다. 호흡을 위한 연습을 한다. 26주 폐 속에 공기가 없지만 호흡 동작을 한다. 건드리면 반응을 보인다.","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"태교일기","slug":"Diary/태교일기","permalink":"https://kalipso.github.io/categories/Diary/태교일기/"}],"tags":[{"name":"태교일기","slug":"태교일기","permalink":"https://kalipso.github.io/tags/태교일기/"},{"name":"똥글이","slug":"똥글이","permalink":"https://kalipso.github.io/tags/똥글이/"},{"name":"임신 23주","slug":"임신-23주","permalink":"https://kalipso.github.io/tags/임신-23주/"},{"name":"태교동화","slug":"태교동화","permalink":"https://kalipso.github.io/tags/태교동화/"}]},{"title":"Scala-IDE에서 Spark 셋팅과 WordCount","slug":"Setup-Spark-in-ScalaIDE-and-WordCount-example","date":"2018-01-04T14:45:05.000Z","updated":"2018-01-04T14:46:41.805Z","comments":true,"path":"2018/01/04/Setup-Spark-in-ScalaIDE-and-WordCount-example/","link":"","permalink":"https://kalipso.github.io/2018/01/04/Setup-Spark-in-ScalaIDE-and-WordCount-example/","excerpt":"","text":"# Spark 개발환경 셋팅의외로 친절하게 정리된 글이 없어서 Window 10 환경에서 Spark의 개발환경을 잡는 일이 쉽지 않았는데, 한 외국 블로거의 글을 따라하고 성공했습니다. Scala-IDE로 개발환경을 잡고 Spark의 “Hello World”이라 할 수 있는 WordCount를 실행해보도록 하겠습니다. Apache Spark는 하둡 기반의 데이터 처리 프레임워크인 Map-Reduce가 가진 단점들을 보완하기 위하여 2009년 UC Berkeley 대학의 연구로 시작되어 2012년 미국 NSDI 학회에서 RDD(Resilient Distributed Dataset) 논문이 발표되면서 알려진 기술입니다. 스파크는 하둡과 달리 메모리를 이용한 데이터 저장 방식을 제공함으로써 머신러닝 등 반복적인 데이터 처리가 필요한 분야에서 높은 성능을 보여줍니다. 또한 강력한 데이터 처리 함수를 제공하여 프로그램의 복잡도를 크게 낮춰줍니다. 2016년 11월 Spark 2.0 버전이 출시되었는데, 이는 Spark 1.x 보다 10배 정도 향상된 처리 속도를 보여준다고 합니다. 또한 Java, Scala, Python 뿐 아니라 분석 환경에서 많이 사용되고 있는 R스크립트를 이용해서도 Application을 작성할 수 있게 되었습니다. 1. Scala IDE 다운로드 Scala IDE는 Scala, 혹은 Scala-Java 혼합 Application의 개발환경을 제공하는 eclipse project입니다. http://scala-ide.org 를 방문하여 IDE를 Download하고 install합니다. 2017년 11월 현재 최신 Release는 4.7.0(이 글을 마무리하게 된 시기는 2018년 1월입니다만 버전은 동일합니다)네요. 압축을 풀고 설치를 마무리한 후, eclipse를 엽니다. 이유는 알 수 없으나 eclipse가 간혹 An error has occurred. See the log fileC:\\dev\\workspace\\scala.metadata.log. 라는 에러 메시지를 뱉습니다. 로그를 확인해보면 java.lang.AssertionError: assertion failed라는 에러가 보이는데, workspace의 .metadata.plugins\\org.eclipse.e4.workbench\\workbench.xmi 파일을 삭제하면 해결됩니다. 2. maven project 생성Maven은 가장 인기있는 Library 관리 및 빌드 툴 중 하나입니다. 이 예제에서는 Maven을 통해 프로젝트를 생성합니다. File -&gt; New -&gt; Project -&gt; Maven Project를 선택하여 프로젝트를 생성합니다. 예제에서는 Group Id는 io.github.kalipso.spark로, Artifact Id는 Spark Sample로 지정하였습니다. ​ ​ ​ pom.xml Sample 을 다운로드하고 SparkSample 프로젝트 Root에 위치한 pom.xml을 수정합니다. Project에서 오른쪽 마우스 버튼을 클릭, Configure -&gt; Add Scala Nature 을 선택하여 Scala Nature를 추가합니다. Spark를 위한 Scala Compiler를 선택합니다. Scala IDE는 기본적으로 Lastest 2.12 bundle (dynamic)을 사용하고 있으나 Spark는 2.10을 사용하기 때문에, Compiler를 변경해주어야 합니다.Project에서 오른쪽 마우스 버튼을 클릭, Properties -&gt; Scala compiler에서 Fixed Scala Installation: 2.10.6 (built-in) 을 선택합니다. ​ ​ Source 폴더를 src/main/java에서 src/main/scala로 변경합니다. 해당 폴더에서 오른쪽 마우스 버튼 클릭 -&gt; Refactor -&gt; Rename을 선택하여 scaca로 변경합니다. project에 에러표시가 있다면 Project 오른쪽 마우스버튼 클릭 -&gt; Maven -&gt; Update Project를 선택하여 해당 프로젝트의 Maven Update를 수행하면 필요한 라이브러리 다운로드 및 빌드를 통해 에러가 없어집니다. 3. WordCount 프로그램 src/main/scala 밑에 패키지를 생성하고, scala Object를 생성합니다. ​ ​ ​ WordCount.scala를 아래와 같이 구성합니다. 12345678910111213141516171819202122232425262728293031package io.github.kalipso.sparkimport org.apache.spark.SparkConfimport org.apache.spark.SparkContextimport org.apache.spark.rdd.RDD.rddToPairRDDFunctionsobject WordCount &#123; def main(args: Array[String]) = &#123; //Start the Spark context val conf = new SparkConf() .setAppName(\"WordCount\") .setMaster(\"local\") val sc = new SparkContext(conf) //Read some example file to a test RDD val test = sc.textFile(\"src/main/shakespeare.txt\") test.flatMap &#123; line =&gt; //for each line line.split(\" \") //split the line in word by word. &#125; .map &#123; word =&gt; //for each word (word, 1) //Return a key/value tuple, with the word as key and 1 as value &#125; .reduceByKey(_ + _) //Sum all of the value with same key .saveAsTextFile(\"output.txt\") //Save to a text file //Stop the Spark context sc.stop &#125;&#125; ​ Text Sample을 다운받아서 위에서 지정한 것처럼 src/main 하단에 복사합니다. WordCount 프로그램을 동작합니다. WordCount.scala 오른쪽 마우스 버튼 클릭 -&gt; Run as -&gt; Scala Application을 선택하여 동작시킬 수 있습니다. 위 소스의 대략적인 로직을 그림으로 표현해보면 아래와 같습니다. 정상적인 상황이라면, 프로그램은 output.txt라는 Directory 안에 아래와 같은 2개의 파일을 만들겁니다. SUCCESS part-00000 part-00000 안에는 다음과 같은 결과들이 저장됩니다. (fartuous,1)(hem,1)(meets,,1)(toll,,1)(melody?,1)(it!-,3)(tough,6)(briefly,,7) 이상 Window 10 환경에서의 Spark 개발환경 구성 및 WordCount 예제를 살펴보았습니다~ 참고 Setup Apache Spark in eclipse(Scala IDE) : Word count example using Apache spark in Scala IDE","categories":[{"name":"Application","slug":"Application","permalink":"https://kalipso.github.io/categories/Application/"},{"name":"Spark","slug":"Application/Spark","permalink":"https://kalipso.github.io/categories/Application/Spark/"}],"tags":[{"name":"Spark 개발환경 구성","slug":"Spark-개발환경-구성","permalink":"https://kalipso.github.io/tags/Spark-개발환경-구성/"},{"name":"Scala IDE","slug":"Scala-IDE","permalink":"https://kalipso.github.io/tags/Scala-IDE/"},{"name":"WordCount","slug":"WordCount","permalink":"https://kalipso.github.io/tags/WordCount/"},{"name":"Scala","slug":"Scala","permalink":"https://kalipso.github.io/tags/Scala/"}]},{"title":"당일치기 천안여행 (feat.알쓸신잡)","slug":"travel-diary-cheonan-201712","date":"2017-12-18T17:21:19.000Z","updated":"2018-01-19T13:18:50.792Z","comments":true,"path":"2017/12/19/travel-diary-cheonan-201712/","link":"","permalink":"https://kalipso.github.io/2017/12/19/travel-diary-cheonan-201712/","excerpt":"","text":"2017.12.16(토)지난 주 목요일 알쓸신잡 천안 편을 보다가 황교익 선생이 먹는 병천 순대가 먹고 싶다는 와이프님 말씀에 주말 즉석 여행이 기획되었다. 연이은 송년회에 준비할 시간이 없었던 탓에 병천 순대와 식물원만 테마로 정하고 토요일 오전 느즈막하게 집을 떠났다. 세 명이(비록 하나는 배 안에 있지만) 함께하는 첫번째 여행이다. 한시간 반 정도? 적지 않은 시간이었지만 와이프와 이런저런 수다를 떨다보니 지루할 틈도 없이 청화집순대에 도착했다. 청화집순대추운 날씨에도 사람들이 대문 바깥까지 줄을 서서 기다리고 있었다. 우리 앞에서 한 남자가 무슨 순대국을 줄을 서서 먹냐고 짜증을 냈는데, 아내로 보이는 사람이 건너편 집은 그나마도 두배를 기다려야 한다면서 달랜다. 알고보니 병천순대거리에는 순대집들이 줄줄이 있는데, 그 중 오래 되고 인기가 많은 곳이 원조집인 충남집과 청화집, 박순자 아우내순대라고 한다. 특히 충남집은 조점례 남문 피순대(전주), 송정3대국밥(부산), 순대실록(서울)과 함께 전국 순대 4대 천왕이라 소개되기도 했단다. 하지만 나도 순대 먹은지 수 십년, 순대국밥을 먹은지도 10년이 되었다. 전주에서 먹은 피순대도 특별난 맛을 느끼지 못했기에, 이번에도 큰 기대는 하지 않았다. 더군다나 원조집은 옆에 있고, 나는 알쓸신잡의 발자취를 따라 그 옆집에 왔으니. 하지만, 맛집을 찾으려면 맛집 옆집으로 가라는 황교익 선생의 말은 틀리지 않았다. 잡내가 없고 씹는 맛이 풍부했다. 고기 맛은 또 어찌나 좋은지. 순대맛에 대한 자세한 소개는 다른 블로거의 글에 양보한다. 어쨌거나 오랜 동안 이마트 분당점 지하에서 파는 순대에 순한 양처럼 길들여진 우리의 입맛은 청화집으로 와서 성난 늑대가 되었다ㅠㅜ 우리 부부는 앞으로 적어도 당분간은, 이마트 순대를 못먹게 될 것임을 직감했다. 유관순 열사 기념관병천(竝川)을 우리 말로 아우내라고 한다. 병천은 유관순 열사가 3월 1일 만세운동을 겪은 후 고향으로 내려와 부모와 함께 4월 1일 아우내 장터 만세운동을 주도하고 일제의 헌병에 붙잡힌 곳이다. 순대집을 나와 약 1.5km 떨어진 유관순 열사 기념관을 찾았다. 가슴이 아팠고, 또 먹먹했다. 유관순 누나라고 부르던 때가 있었는데 유관순이 참 앳된 나이에 갔구나라는 생각에 안타까웠다. 유관순이 꽤나 키가 컸다는 것은 의외여서 놀라웠다. 짧은 생애였고 짧은 볼거리를 제공하는 기념관이었지만 여운이 남는 장소였다. 태극기와 성조기를 흔들어대는 시위대들 덕분에 태극기에 대한 인식이 많이 나빠져있었는데, 태극기를 다시 한번 돌아볼 수 있게 된 것도 반가웠다. 세계꽃식물원, 그리고 지중해마을시간이 어느 덧 오후 3시를 지나고 있었다. 세계꽃식물원은 6시에 닫는다. 똥글이에게 꽃을 보여주고 싶은 산모를 위해 서둘러서 식물원으로 이동했다. 겨울에도 정상 영업한다는 세계꽃식물원은 밖에서 보기에는 다소 썰렁했다. 주차장도 한산하고 카페와 식물원 구성은 약간 엉성해보였다. 하지만 꽃은 이름을 알수록, 가까이 볼수록 더 예뻤다. 화려한 꽃만 예쁜 것이 아니다. 각자가 처한 환경에서 생명을 틔워내고 구불구불 굽이치고 어우러져 있다는 것은 얼마나 위대하고 기특한 것인지. 나오면서 화장실을 갔는데 추운 날씨에 김이 날만큼 따뜻한 물이 나왔다. 첫인상보다, 뒷모습이 더 좋은 식물원이었다. 어둑어둑 해가 지면서, 식사도 할 겸, 중간에 사지 못한 호두과자 대신 호두파이도 살 겸 지중해마을에 들렸다. 알쓸신잡에서 유시민이 저녁 어둑어둑해서 도착했고 낮에 오지 못함을 아쉬워한 것처럼, 우리도 어둑어둑 도착해서 낮에 오지 못함을 아쉬워했다. 우리는 즐거운 하루를 보냈다. 그리고.. 아내는 병천 순대 덕에 입맛과 몸무게를 되찾았다^^","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"일상/여행","slug":"Diary/일상-여행","permalink":"https://kalipso.github.io/categories/Diary/일상-여행/"}],"tags":[{"name":"알쓸신잡","slug":"알쓸신잡","permalink":"https://kalipso.github.io/tags/알쓸신잡/"},{"name":"천안아산","slug":"천안아산","permalink":"https://kalipso.github.io/tags/천안아산/"},{"name":"청화집순대","slug":"청화집순대","permalink":"https://kalipso.github.io/tags/청화집순대/"},{"name":"장신 유관순","slug":"장신-유관순","permalink":"https://kalipso.github.io/tags/장신-유관순/"},{"name":"세계꽃식물원","slug":"세계꽃식물원","permalink":"https://kalipso.github.io/tags/세계꽃식물원/"},{"name":"지중해마을","slug":"지중해마을","permalink":"https://kalipso.github.io/tags/지중해마을/"}]},{"title":"［태교일기］ 임신 19주 4일","slug":"papa-diary-pregnant-19w","date":"2017-12-10T12:30:07.000Z","updated":"2017-12-10T12:30:39.162Z","comments":true,"path":"2017/12/10/papa-diary-pregnant-19w/","link":"","permalink":"https://kalipso.github.io/2017/12/10/papa-diary-pregnant-19w/","excerpt":"","text":"2017.12.10(일)정신없는 시간들이었다. 11월에 새로운 프로젝트에 투입되었고, 2군데의 산후조리원을 예약한 뒤 하나를 취소했다. 12월 1일에는 아파트 옆동으로 이사를 했고, 그 날 저녁 아버지는 소장 쪽에 꽤 큰 수술을 하셨다. 혼자 일기를 쓰면서 변명을 하는 것도 우습지만, 이제 막 시작한 블로그가 한동안 뜸했던 것이 용두사미처럼 흐지부지 되는 것이 아님을 스스로에게 확인시켜주고 다시 한번 마음을 가다듬고 싶었다. (그러고보니, 어릴 적 일기를 쓸 때도 이런 적이 있었던 것 같기도 ㅋㅋ) 시간이 흘러 이제 아내는 임신 19주 4일에 접어들었다. 사랑하는 사람이 임신으로 배가 불러있는 것은 참 기분 좋은 일인 것 같다. 츤츤거리는게 특기인 나는 ‘이게 니 배인지 내 배인지’ 하면서 아내를 놀리기는 하지만, 그래도 불러오는 배를 쓰다듬는 것은 근사한 느낌이다. 지난 주 수요일부터는 같이 수영을 다니고 있다. 비록 상급반으로 내려가서 어르신들과 함께 천천히 하고는 있지만.. 아내는 수영을 시작으로 요가와 뜨개질, 플룻 등 태교(및 취미생활)를 본격적으로 시작하고 있다. 여보~ 우리 책도 꾸준히 읽어주자~ 응? 태동아내는 18주 부터는 물방울이 터지는 듯한 느낌으로 움직임이 있단다. 그래도 뻥뻥 차는 느낌이 아니고 그나마도 하루에 한번도 못느끼는 경우가 있아서 걱정 반, 기대 반으로 본격적인 태동을 기다리고 있다. 태동이 많지 않다면 얌전한 아이가 나오는 거겠거니, 하고 걱정을 달래본다. 책에서는 이렇게 이야기한다. 임신 5개월이 되어도 태동을 느끼지 못하면 의사에게 이야기하세요. 그러나 걱정하지는 마세요. 심박동 소리가 잘 들리고 다른 중요한 징조들이 안정되어 있으면 걱정할 일은 아니고 다만 예정일이 생각보다 늦기 때문인지 모르니까요. 똥글아, 건강하게 잘 지내고 엄마 아빠에게 잘 놀고 있다고 신호를 보내주렴~ [5개월] 임산부의 변화 철분제와 종합비타민, 오메가3 등을 복용하면서 변비 기운이 지속된다. (까만X을 호소함) 피부가 건조해지면서 등허리 쪽에 피부 트러블이 생겼다. 가습기 사용이 시급함.. 20주 정도가 되면 혈액 속 철분이 많이 요구되어 빈혈이 생길 수 있다. ​ [5개월] 태아의 변화 아기가 발길질을 하고, 팔을 움직이고, 손가락과 발가락을 움직이는 태동을 느낄 수 있다. 22주 정도가 되면 체중이 650g, 키는 28~30cm까지 자란다.","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"태교일기","slug":"Diary/태교일기","permalink":"https://kalipso.github.io/categories/Diary/태교일기/"}],"tags":[{"name":"태교일기","slug":"태교일기","permalink":"https://kalipso.github.io/tags/태교일기/"},{"name":"똥글이","slug":"똥글이","permalink":"https://kalipso.github.io/tags/똥글이/"},{"name":"임신 19주","slug":"임신-19주","permalink":"https://kalipso.github.io/tags/임신-19주/"},{"name":"태동","slug":"태동","permalink":"https://kalipso.github.io/tags/태동/"}]},{"title":"［태교일기］ 임신 16주 3일","slug":"papa-diary-pregnant-16w","date":"2017-11-18T15:23:19.000Z","updated":"2017-11-18T15:27:06.177Z","comments":true,"path":"2017/11/19/papa-diary-pregnant-16w/","link":"","permalink":"https://kalipso.github.io/2017/11/19/papa-diary-pregnant-16w/","excerpt":"","text":"2017.11.18(토)주말 아침, 우리 부부는 아침을 일찍 챙겨먹고 9시가 되기 전에 산부인과에 도착해서 1번 대기표를 끊었다. 원래 예약일은 21일 화요일이었지만 나도 초음파를 통해서나마 우리 똥글이를 직접 보고 싶었다. 얼마나 긴 시간이었던가. 9월 초중순 원인 모를 하혈이 있을 때만 해도 아내에게 내색할 수는 없었지만 나도 적잖이 걱정하고 긴장 했더랬다. 하루하루가 어찌나 긴지, 다음 검사까지의 시간이 영원처럼 느껴졌다. 우리 주변의 시간만이 아주 길게 왜곡되어 있는 것 같은. 그래서 시간의 늪에 빠져있는 느낌이랄까. 불안감에 한약도 지어먹고, 조심스런 하루하루를 건너왔다. 기형아 검사도 마치고 나니 한결 마음이 편해지고는 있지만. 여전히 우리의 하루하루는 참 길다. 그런 긴 시간을 건너고 있는데, 똥글이를 보기 위해 한두시간 기다리는게 무슨 대수란 말인가. 예약을 하고 온 산모와 신랑들 구경도 하고, 같이 책도 보면서(나는 선물 받은 《기사단장 죽이기》를, 아내는 내가 강권한 권한 《내 아이를 위한 두뇌코칭》을 보고 있다) 시간을 보내다가, 병원에 운영하고 있는 산후조리원 투어를 하고 와서야 진료를 볼 수 있었다. 똥글이는 남자? 여자?아내가 진료실에 먼저 들어가고, 곧 이어서 간호사가 “산모님 보호자분~”을 불렀다. 초음파로 이제는 제법 사람의 형태를 갖춰가고 있는 똥글이를 보면서 상태를 체크했다. “자궁 경부 길이도.. 정상이고요.. 머리 지름은 보시는 것처럼 3.32cm… 몸통은 … 양수 길이도 정상이네요.”.. “심장도 157.89.. 규칙적으로 잘 뛰고 있어요 “ 하나같이 다 반가운 말들이었다. 지난달에 봤을 때는 다리가 짤막했는데, 다리가 길쭉해지고 콧대도 더 또렷해진 것 같다. 그러다가 선생님이 갑자기 얘기해준다. “똥글이는 아들인 것 같네요~” “아.. 그걸 어떻게 알죠? 탯줄이랑 헷갈릴 수도 있고..”라면서 아직 확실히는 모르는 것 아니냐는 투로 얘기를 했더니 선생님이 똥글이의 다소 민망한 자세를 보여주셨다. (똥글아. 아빠가 미안하다) “자 여기 로켓처럼 솟아오른 것 보이시죠?” “아…” 우리 부부는 가만히 고개를 끄덕였다. 이렇게 똥글이는 남아로 판명되었다. [4개월] 임산부의 변화 입덧 : 어떤 책에서는 4개월~6개월이 가장 편안한 때라고도 하는데, 아내는 아직 입덧을 하고 있다. 3개월 즈음에 거의 매일 토하고 밥을 거의 못 먹었는데, 4개월에 접어들면서 약간은 편안해지고 있다. 체중 : 3개월까지 5~7kg 정도가 빠졌는데, 4개월에 접어들면서 완만한 회복세를 보이고 있다. 한 3kg 정도는 회복한 듯. [4개월] 태아의 변화 아이의 체중은 145g 정도로 측정되었다. 18주가 되면 무게 300g에 키도 20~25cm까지 자란다고 한다. 15주 : 다리가 팔보다 길어진다. 16주 : 주먹을 쥐고 입을 벌리거나 입술을 움직일 수 있다. 손톱이 형성된다. 심장이 117~157회 박동한다. 위장이 소화액을 만들어내고, 신장이 소변을 만들어낸다. 17 주 : 갈색 피하 지방이 생긴다. 17~20주에 청각 기관이 발달하여 내장 기관과 외부 세상의 소리를 들을 수 있다. 18주 : 귀가 머리 쪽으로 올라가고 솜털이 몸을 덮는다.","categories":[{"name":"Diary","slug":"Diary","permalink":"https://kalipso.github.io/categories/Diary/"},{"name":"태교일기","slug":"Diary/태교일기","permalink":"https://kalipso.github.io/categories/Diary/태교일기/"}],"tags":[{"name":"태교일기","slug":"태교일기","permalink":"https://kalipso.github.io/tags/태교일기/"},{"name":"똥글이","slug":"똥글이","permalink":"https://kalipso.github.io/tags/똥글이/"},{"name":"임신 16주","slug":"임신-16주","permalink":"https://kalipso.github.io/tags/임신-16주/"},{"name":"성별구분","slug":"성별구분","permalink":"https://kalipso.github.io/tags/성별구분/"}]},{"title":"［Scala 기초］ Scala로 구구단 만들기","slug":"Scala-Gugudan-Basic-Grammar","date":"2017-11-10T05:18:44.000Z","updated":"2017-11-10T08:49:01.448Z","comments":true,"path":"2017/11/10/Scala-Gugudan-Basic-Grammar/","link":"","permalink":"https://kalipso.github.io/2017/11/10/Scala-Gugudan-Basic-Grammar/","excerpt":"","text":"프로젝트에서 사용할 수 있다는 이유 때문에 최근 Scala를 공부하고 있습니다. 지금까지 써본 개발 언어는 ASP, PHP 같은 스크립트 언어(나이가 탄로나나요.. 쿨럭), 비교적 최근에 썼던 언어로는 Java, Python과 Javascript 등이 있습니다만, 객체지향의 특징과 함수 지향의 특징을 가지고 있는 Scala는 또 매우 새롭더군요. 간단한 예제를 통해서 Scala의 특징을 짚어보고자 합니다. Scala를 창시한 마틴 오더스키가 직접 쓴 “Programming in Scala 3/e”로 공부하는 중인데, 아래 내용은 대략 1~7장까지의 내용을 나름대로 정리한 것으로 보면 되겠습니다 구구단 프로그램아래는 IntelliJ의 Scala WorkSheet에서 작성해본 구구단 출력 프로그램 소스입니다. 123456789101112131415161718def makeRow(dan: Int, num: Int) : String = &#123; val result = \" \"* (2 - (dan * num).toString.length) + (dan * num).toString s\"$dan × $num = $result\"&#125;def makeMultiTable() = &#123; val rowTable = for &#123; i &lt;- 1 to 9 if (i != 1); j &lt;- 1 to 9 &#125; yield &#123; (if(j == 1) s\"\\n[$i 단]\\n\" else \"\") + makeRow(i, j) &#125; rowTable.mkString(\"\\n\")&#125;println(makeMultiTable) 1. 함수의 정의 기본적인 구조는 위와 같이 구구단 소스 1 line과 같이 def + 함수명 + 파라미터 목록 + 함수 결과 타입 + 등호(=) + 중괄호({})안에 본문입니다. Result type은 생략할 수 있으나, 함수가 재귀적으로 정의되어 있을 경우에는 반드시 명시해야 합니다. 값의 반환이 없는 함수는 Result Type이 Unit이며, 이는 Java의 void와 같습니다. 함수 본문에 return이 없는데, scala는 return을 사용하지 않아도 맨 나중에 계산한 값을 반환합니다. scala에서 함수는 1급 계층(first class) 값입니다. 즉, 함수는 문자열과 동일한 자격을 갖는 값으로 함수를 다른 함수에 인자로 넘길 수 있고, 함수 안에서 결과로 함수를 반환할 수도 있고, 함수를 변수에 저장할 수도 있습니다. 다음과 같이 함수 리터럴을 사용하기도 합니다. 123456789/* String 배열을 출력 *///#1. 함수 리터럴을 사용하는 경우args.foreach(arg =&gt; println(arg))//#2. 함수 리터럴에서 인자의 타입을 명시적으로 표현args.foreach((arg: String) =&gt; println(arg))//#3. 함수 리터럴이 인자를 하나만 받는 경우 해당 인자를 생략 가능args.foreach(println) 2. 변수의 정의 2번째 라인 val result = &quot;~&quot; 구문은 변수에 값을 할당하는 부분입니다. 스칼라에는 val, var의 두 종류 변수가 있습니다. val은 Java의 final 변수와 비슷하고 일단 초기화하고 나면 값을 다시 할당할 수 없습니다. 위와 같이 String은 + 연산자로 이어붙일 수 있습니다. var 대신 val을 사용하는 것이 코드를 더 가독성 높고 리팩토링 하기 쉽게 해준다(by 마틴 오더스키) 3. 문자열 인터폴레이션 3번째 라인 s&quot;$dan ...&quot;구문은 문자열 인터폴레이션입니다. 문자열을 시작하는 따옴표 직전에 s라는 문자가 오는 경우 scala는 해당 리터럴을 처리하기 위해 s 문자열 인터폴레이션을 사용합니다. s 인터폴레이터는 내장된 각 표현식을 평가하고, 각 결과에 대해 toString을 호출한 다음 내장된 표현식을 toString의 결과로 대치해줍니다. ${6 * 7}과 같이 $ 뒤에 원하는 표현식을 사용할 수 있습니다. scala는 s 인터폴레이터 외에 raw 인터폴레이터, f 인터폴레이터를 제공합니다. 123456println(raw\"No\\\\\\\\escape\")//--&gt; 출력 : No\\\\\\\\escape!val pi = \"Pi\"println(f\"$pi is approximately $&#123;math.Pi&#125;%.8f\")//--&gt; 출력 : Pi is approximately 3.14159265. ​ 4. if 구문 12라인은 if 구문과 문자열을 +로 이어붙이는 구문입니다. scala의 제어 구문은 대부분 어떤 값을 내놓으며, if 문도 마찬가지입니다. C, C++, Java의 삼항연산자(?:)와 같이 삼항 연산자 모델을 채용하되, 삼항 연산자와 if를 합쳐서 if 구문으로만 사용합니다. 5. for 표현식 7~13 라인의 for {} yield {}는 for 표현식입니다. scala에서는 제너레이터라고 부르는 문법(file &lt;- fileCollection와 같은 형태)을 이용해 컬렉션을 이터레이션합니다. for 표현식에서는 이터레이션 구문 뒤에 if절을 넣어서 filter를 추가(다중 if도 가능)할 수 있습니다. 12345for( file &lt;- fileCollection if file.isFile if file.getName.endsWith(\".scala\")) println(file) 여러 개의 제너레이터를 사용하면 for문은 중첩 이터레이션을 수행 합니다. 괄호 대신 중괄호를 사용해 제너레이터와 필터를 감싸도 동일하게 사용 가능합니다. for (이터레이션) yield {본문} 표현식을 사용하여 본문의 값을 배열로 반환할 수 있습니다. 6. toString, mkString 2라인의 toString 연산자는 해당 객체에 대한 표준 문자열 표현을 반환합니다. 다른 표현을 원한다면 mkString 메소드를 사용할 수 있습니다. 15라인의 배열.mkString(&quot;\\n&quot;)은 배열의 각 원소를 개행문자로 연결하여 반환합니다. 참고문헌Programming in Scala 3/e Updated for Scala 2.12 (2017, 에이콘 출판사)","categories":[{"name":"Application","slug":"Application","permalink":"https://kalipso.github.io/categories/Application/"},{"name":"Scala","slug":"Application/Scala","permalink":"https://kalipso.github.io/categories/Application/Scala/"}],"tags":[{"name":"scala 기초","slug":"scala-기초","permalink":"https://kalipso.github.io/tags/scala-기초/"},{"name":"함수형 프로그래밍","slug":"함수형-프로그래밍","permalink":"https://kalipso.github.io/tags/함수형-프로그래밍/"},{"name":"구구단","slug":"구구단","permalink":"https://kalipso.github.io/tags/구구단/"}]},{"title":"Apache Kudu의 특징과 테이블 관리","slug":"About-Apache-Kudu","date":"2017-11-09T08:20:21.000Z","updated":"2017-11-09T08:21:43.122Z","comments":true,"path":"2017/11/09/About-Apache-Kudu/","link":"","permalink":"https://kalipso.github.io/2017/11/09/About-Apache-Kudu/","excerpt":"","text":"프로젝트에서 Kudu를 쓸 기회가 생겨서 간단하게 특징을 정리해보기로 하겠습니다. Cloudera 위에서 Kudu-Impala를 약간 써본 관계로, 전체적인 내용보다는 특징적인 부분만을 정리해보려고 합니다. # Kudu의 특징 Apache Hadoop 플랫폼 환경에서 사용되는 Columnar 스토리지 엔진이다. 데이터웨어하우징 워크로드에서 유리함 MapReduce, Spark 및 기타 Hadoop ecosystem 컴포넌트와 통합된다. 엄격한 직렬화 일관성을 포함하여 일관성 유지를 위한 다양한 옵션을 제공한다. Raft Consensus 알고리즘을 사용하여 높은 가용성을 유지한다. 반수 이상의 Replica가 Available하다면 Tablet Server는 Read/Write를 수행할 수 있다. 구조화된 모델(Structured Data Model) # Kudu의 구조 Table : 데이터가 저장되는 공간. Table은 Schema 정렬된 Primary Key를 가진다. Table은 Tablet이라는 세그먼트로 분할된다. Tablet : Table의 연속 세그먼트. Tablet은 여러 Tablet Server에 ReplicaSet를 구성함 Tablet Server : Tablet을 저장하고 클라이언트에 저장하는 역할을 한다. Raft Consensus 알고리즘을 사용하여 리더를 선출하고 읽기 혹은 쓰기 요청을 처리한다. Master : Tablet, Tablet Server, Catalog Table 및 클러스터와 관련한 Metadata를 가진다. 현재 Leader가 사라지면 Raft Consensus 알고리즘을 이용하여 새로운 Master가 선출된다.또한 Master는 새로운 Table에 대한 metadata를 Catalog Table에 쓰거나 Tablet Server들에 Tablet을 생성하는 프로세스를 조정하는 등의 metadata 오퍼레이션을 수행한다. Table Server들은 셋팅된 Interval에 따라 Master에 heartbeat를 전송한다. # Kudu-Impala 테이블 생성Internal &amp; External Impala Table Internal : Impala에 의해 관리되며 Impala에서 삭제하면 데이터와 테이블이 완전 삭제됨. Impala를 사용하여 새 테이블을 만들면 일반적으로 내부 테이블 External : Create External Table로 생성할 수 있으며 테이블을 삭제해도 Kudu에서 테이블이 삭제되지 않고, Impala와 Kudu 간 매핑만 제거함. Kudu API 또는 Apache Spark 등에서 만들었을 경우 Impala에서 자동으로 표시되지 않기 때문에, 먼저 Impala에서 External 테이블을 만들어 Kudu 테이블과 Impala 데이터베이스를 매핑해야 함. 12345CREATE EXTERNAL TABLE my_mapping_tableSTORED AS KUDUTBLPROPERTIES ( 'kudu.table_name' = 'my_kudu_table'); Impala에서 새로운 Kudu 테이블 만들기 테이블 생성 12345678910111213141516--일반적인 생성구문CREATE TABLE my_first_table( id BIGINT, name STRING, PRIMARY KEY(id))PARTITION BY HASH PARTITIONS 16STORED AS KUDU;-- CTASCREATE TABLE new_tablePRIMARY KEY (ts, name)PARTITION BY HASH(name) PARTITIONS 8STORED AS KUDUAS SELECT ts, name, value FROM old_table; ※ Kudu는 현재 (2017.11) 자동/수동 Sharding 매커니즘이 없기 때문에, 테이블을 만들 때 partition by 절을 이용하여 분할 Key를 지정해야 한다. ​ 파티션 설정 PARTITION BY RANGE : 범위 파티션을 지정할 수 있으며, 아래와 같이 사용함. 1234567891011121314151617181920212223242526CREATE TABLE cust_behavior ( _id BIGINT PRIMARY KEY, salary STRING, edu_level INT, usergender STRING, `group` STRING, city STRING, postcode STRING, last_purchase_price FLOAT, last_purchase_date BIGINT, category STRING, sku STRING, rating INT, fulfilled_date BIGINT)PARTITION BY RANGE (_id)( PARTITION VALUES &lt; 1439560049342, PARTITION 1439560049342 &lt;= VALUES &lt; 1439566253755, PARTITION 1439566253755 &lt;= VALUES &lt; 1439572458168, PARTITION 1439572458168 &lt;= VALUES &lt; 1439578662581, PARTITION 1439578662581 &lt;= VALUES &lt; 1439584866994, PARTITION 1439584866994 &lt;= VALUES &lt; 1439591071407, PARTITION 1439591071407 &lt;= VALUES)STORED AS KUDU; PARTITION BY HASH : HASH 값으로 파티셔닝하며, column을 지정하지 않으면 모든 기본 키 열을 해싱하여 원하는 수의 버킷을 생성할 수 있다. 값이 단조롭게 증가하는 열에서 범위별로 파티션을 나누면 마지막 Tablet이 다른 테이블보다 훨씬 커지므로 주의할 것. PARTITION BY HASH and RANGE : 다음과 같은 형태로 복합 파티션 키를 설정할 수 있음. 12345678910111213141516171819202122232425CREATE TABLE cust_behavior ( id BIGINT, sku STRING, salary STRING, edu_level INT, usergender STRING, `group` STRING, city STRING, postcode STRING, last_purchase_price FLOAT, last_purchase_date BIGINT, category STRING, rating INT, fulfilled_date BIGINT, PRIMARY KEY (id, sku))PARTITION BY HASH (id) PARTITIONS 4,RANGE (sku)( PARTITION VALUES &lt; 'g', PARTITION 'g' &lt;= VALUES &lt; 'o', PARTITION 'o' &lt;= VALUES &lt; 'u', PARTITION 'u' &lt;= VALUES)STORED AS KUDU; Non-Covering Range Partitions : Kudu 1.0 이상에서 다음과 같은 Range 파티션을 만들 수 있다. 123456789101112CREATE TABLE sales_by_year ( year INT, sale_id INT, amount INT, PRIMARY KEY (sale_id, year))PARTITION BY RANGE (year) ( PARTITION VALUE = 2012, PARTITION VALUE = 2013, PARTITION VALUE = 2014, PARTITION VALUE = 2015, PARTITION VALUE = 2016)STORED AS KUDU; 이 테이블은 2017이 되면 입력이 거부되기 때문에, 다음과 같이 range가 추가되어야 한다. 1ALTER TABLE sales_by_year ADD RANGE PARTITION VALUE = 2017; 마찬가지로, range partition은 drop될 수 있다. 1ALTER TABLE sales_by_year ADD RANGE PARTITION VALUE = 2017; 테이블 속성 변경 Internal 테이블인 경우, kudu.table_name속성을 변경하여 기본 Kudu 테이블 이름 변경 12ALTER TABLE my_internal_tableSET TBLPROPERTIES('kudu.table_name' = 'new_name') 다른 응용 프로그램이 Impala에서 Kudu 테이블의 이름을 바꾼 경우 외부 테이블 다시 매핑 12ALTER TABLE my_external_table_SET TBLPROPERTIES('kudu.table_name' = 'some_other_kudu_table') Kudu Master 주소 변경 12ALTER TABLE my_tableSET TBLPROPERTIES('kudu.master_addresses' = 'kudu-new-master.example.com:7051'); Internal -&gt; External로 변경 1ALTER TABLE my_table SET TBLPROPERTIES('EXTERNAL' = 'TRUE'); ​## 참고 Introducing Apache Kudu(https://kudu.apache.org/docs/)","categories":[{"name":"Database","slug":"Database","permalink":"https://kalipso.github.io/categories/Database/"},{"name":"kudu","slug":"Database/kudu","permalink":"https://kalipso.github.io/categories/Database/kudu/"}],"tags":[{"name":"kudu","slug":"kudu","permalink":"https://kalipso.github.io/tags/kudu/"},{"name":"hadoop","slug":"hadoop","permalink":"https://kalipso.github.io/tags/hadoop/"},{"name":"kudu-impala","slug":"kudu-impala","permalink":"https://kalipso.github.io/tags/kudu-impala/"},{"name":"kudu partition","slug":"kudu-partition","permalink":"https://kalipso.github.io/tags/kudu-partition/"}]},{"title":"Github Page에 Hexo 블로그 만들기","slug":"how-to-make-hexo-blog-on-github-page","date":"2017-11-08T08:02:10.000Z","updated":"2017-11-09T08:27:21.561Z","comments":true,"path":"2017/11/08/how-to-make-hexo-blog-on-github-page/","link":"","permalink":"https://kalipso.github.io/2017/11/08/how-to-make-hexo-blog-on-github-page/","excerpt":"","text":"프롤로그올해 여름, 11개월 프로젝트를 마치고 나와서 오랜만에 티스토리 블로그를 접속했더니 접속이 되지 않았습니다. 다음 고객센터를 페이지를 통해서 티스토리 담당자랑 한참 실갱이를 했는데, 누군가 해킹을 해서 내 블로그와 글을 모두 삭제하였고, 해당 블로그는 결국 살릴 수 없다고 합니다. 쿠궁 ㅠㅠ 가끔씩 써오기는 했지만 나름 10년을 써왔던 블로그인데 한순간에 날아가버린 거죠.. 이렇게 허무할 수가.. 눈물을 머금고 블로그 선택에 대한 포스팅(내 글을 오래 남기기 위한 블로그 선택)들을 찾아보다가 GitHub Page에서 Hexo를 이용해 블로그를 구축하는 방법을 선택하였는데, 선택의 주된 이유를 정리해보면 이렇습니다. 변경 자유도가 높다. 보안 및 컨텐츠 유실로부터 비교적 안전하다. web환경에서 로그인 및 권한획득 과정이 없음. 기본적으로 PC에서 소스를 관리함. GitHub를 통해 버전 관리가 가능함. 모든 기능을 제한없이 무료로 사용할 수 있다. Jekyll과 Hexo를 비교한 결과, Hexo가 더 예쁘다. A fast, simple &amp; powerful blog framework 약간의 삽질을 통해 Hexo 블로그를 만들게 되었는데, 그 과정을 아래에 기록합니다. # GitHub으로 정적 페이지 생성하기GitHub에서는 Repository를 생성하여 정적 페이지를 서비스할 수 있는 기능을 제공합니다. 1. Repository 생성GitHub에서 “New Repository” 선택 후 Repository Name, Description 등 입력하고 Repository을 생성합니다. ※ Add License 등 옵션은 선택하지 않음 2. Clone then Repository1234#1. Repository를 \"pub\"저장소로 cloned:\\blog&gt; git clone https://github.com/username/username.github.io.git pubCloning into 'pub'...warning: You appear to have cloned an empty repository. 3. Hello world 서비스 테스트12345678#2. index.html 생성d:\\blog&gt; cd pubd:\\blog\\pub&gt; echo \"Hello World\" &gt; index.html#. Remote 저장소에 변경내역 Pushd:\\blog\\pub&gt; git add --alld:\\blog\\pub&gt; git commit -m \"Initial commit\"d:\\blog\\pub&gt; git push -u origin maser 4. 접속확인페이지 접속 확인 브라우저에서 Repository name으로 접속하여 접속 확인※ 위에서 pub 폴더는 서비스용이 아니고 테스트 용도입니다. # Hexo 설치1. 사전설치설치 전 준비 Hexo를 이용하기 위해서는 다음 구성요소들이 사전에 설치되어 있어야 합니다. Node.js Git 2. Hexo Client 및 저장소 설정npm을 이용하여 Hexo Client를 설치하고 저장소를 설정합니다. 1234567#1. hexo client 설치D:\\blog&gt; npm install hexo-cli-g#2. hexo 저장소 생성 및 설치D:\\blog&gt; hexo init srcD:\\blog&gt; cd srcD:\\blog\\src&gt; npm install 3. _config.yml 파일 설정hexo의 기본정보를 셋팅합니다. “Plugins”의 첫번째 문자가 대문자임에 유의하세요. (저처럼 3일 동안 삽질할 수 있습니다) 12345678910111213141516171819202122# Site# language를 ko로 만들면 Home &gt; 홈으로 나오는 등의 부작용title: 낭만디비술사subtitle:description:author: kalipsolanguage: entimezone: Asia/Seoul... 중략 ...## Plugins: https://hexo.io/plugins/Plugins:- hexo-deployer-git... 중략 ...# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: https://github.com/username/username.github.io.git 4. Hexo 로컬 서버에서 확인로컬 서버를 만들고 확인할 수 있습니다. 기본적으로 로컬 페이지는 포트 4000입니다.12345# server 설치D:\\blog\\src&gt;npm install hexo-server --save# 서버 구동D:\\blog\\src&gt;hexo server http://localhost:4000 에서 확인 가능 5. GitHub에 Deploy아래에서 hexo-deployer-git은 _config.yml에 정의되어 있기 때문에, server를 구동하기 전에 먼저 설치되어야 합니다.아래 명령을 통해 간단하게 Github에 Deploy할 수 있습니다.12345# deployer 설치D:\\blog\\src&gt;npm install hexo-deployer-git --save# generate 및 github-deployD:\\blog\\src&gt;hexo deploy --generate http://username.github.io 에 deploy 완료. # Theme 적용하기https://hexo.io/themes/ 에 접속해서 Hexo에서 사용할 수 있는 여러가지 Theme를 확인하고 선택할 수 있습니다.저는 많은 블로그들이 사용하고 있는 hueman(https://github.com/ppoffice/hexo-theme-hueman/wiki/Installation) 을 사용했습니다. (중국어로 된 테마도 많은데, 언어 문제로 포기..) 대부분의 Theme가 sample 페이지와 Installation 문서를 포함한 Github 페이지를 제공하고 있기 때문에 설치가 어렵지 않습니다.다만, 로컬에서 Server 재시작에도 변경사항이 제대로 반영되지 않을때, clean 명령을 통해 저장소를 초기화할 수 있습니다. 12D:\\blog\\src&gt; hexo cleanD:\\blog\\src&gt; hexo server # 백업 설정Jekyll과 달리 Hexo는 각 변경사항이 모두 Git으로 버전관리가 되지 않기 때문에, 유실에 대비하여 GitHub에 Repository(https://github.com/username/blog-source.git) 를 만들고 관리하는 것으로 설정하였다. 1. Hexo 저장소 git에 관리123456# git 저장소로 만들고 커밋D:\\blog\\src&gt; git initD:\\blog\\src&gt; git add --allD:\\blog\\src&gt; git commit -m \"initial commit\"D:\\blog\\src&gt; git remote add origin https://github.com/username/blog-source.gitD:\\blog\\src&gt; git push origin master 2. 배치파일 생성반영시마다 Hexo 저장소를 commit하고 반영하는 배치파일 생성12345678910# hexoCommit.bat 파일 생성D:\\blog\\src&gt; copy con hexoCommit.batcd D:\\blog\\srcgit add --allgit commit -m \"블로그 소스 반영(%date%)\"git push -u origin masterhexo deploy --generate# Ctrl + Z (저장) 참고 Github Pages와 Hexo를 통해 30분만에 기술 블로그 만들기(https://www.holaxprogramming.com/2017/04/16/github-page-and-hexo/) 워드프레스보다 쉬운 Hexo 블로그 시작하기(http://futurecreator.github.io/2016/06/14/get-started-with-hexo/)","categories":[{"name":"Application","slug":"Application","permalink":"https://kalipso.github.io/categories/Application/"},{"name":"Hexo","slug":"Application/Hexo","permalink":"https://kalipso.github.io/categories/Application/Hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://kalipso.github.io/tags/hexo/"},{"name":"블로그 만들기","slug":"블로그-만들기","permalink":"https://kalipso.github.io/tags/블로그-만들기/"},{"name":"github","slug":"github","permalink":"https://kalipso.github.io/tags/github/"}]}]}